{"version":3,"sources":["plugin/pdf/pdf.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["PDFJS","window","version","build","pdfjsWrapper","globalScope","isWorker","FONT_IDENTITY_MATRIX","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","WIDGET","TEXT","LINK","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RL","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","pdfBug","VERBOSITY_LEVELS","errors","warnings","infos","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","info","msg","verbosity","console","log","warn","error","arguments","length","logArguments","push","apply","join","call","backtrace","UnsupportedManager","notify","UNSUPPORTED_FEATURES","unknown","Error","e","stack","split","slice","assert","cond","forms","javaScript","smask","shadingPattern","font","UnsupportedManagerClosure","listeners","listen","cb","featureId","i","ii","combineUrl","baseUrl","url","test","charAt","indexOf","substring","pathLength","lastIndexOf","prefixLength","isValidUrl","allowRelative","protocol","exec","toLowerCase","shadow","obj","prop","value","Object","defineProperty","enumerable","configurable","writable","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","PasswordException","PasswordExceptionClosure","code","name","message","prototype","constructor","UnknownErrorException","UnknownErrorExceptionClosure","details","InvalidPDFException","InvalidPDFExceptionClosure","MissingPDFException","MissingPDFExceptionClosure","UnexpectedResponseException","UnexpectedResponseExceptionClosure","status","NotImplementedException","NotImplementedExceptionClosure","MissingDataException","MissingDataExceptionClosure","begin","end","XRefParseException","XRefParseExceptionClosure","bytesToString","bytes","MAX_ARGUMENT_COUNT","String","fromCharCode","strBuf","chunkEnd","Math","min","chunk","subarray","stringToBytes","str","Uint8Array","charCodeAt","string32","log2","x","n","readInt8","data","start","readUint16","offset","readUint32","isLittleEndian","buffer8","buffer16","Uint16Array","buffer","get","PDFJS_isLittleEndian","hasCanvasTypedArrays","canvas","document","createElement","width","height","ctx","getContext","imageData","createImageData","PDFJS_hasCanvasTypedArrays","Uint32ArrayView","Uint32ArrayViewClosure","byteLength","undefined","ensureUint32ArrayViewProps","create","uint32ArrayViewSetters","createUint32ArrayProp","index","set","IDENTITY_MATRIX","Util","UtilClosure","rgbBuf","makeCssRgb","Util_makeCssRgb","r","g","b","Util_transform","m1","m2","applyTransform","Util_applyTransform","p","m","xt","yt","applyInverseTransform","Util_applyInverseTransform","d","getAxialAlignedBoundingBox","Util_getAxialAlignedBoundingBox","p1","p2","p3","p4","max","inverseTransform","Util_inverseTransform","apply3dTransform","Util_apply3dTransform","v","singularValueDecompose2dScale","Util_singularValueDecompose2dScale","transpose","a","c","first","second","sqrt","sx","sy","normalizeRect","Util_normalizeRect","rect","intersect","Util_intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","sign","Util_sign","num","appendToArray","Util_appendToArray","arr1","arr2","Array","prependToArray","Util_prependToArray","unshift","extendObj","obj1","obj2","key","getInheritableProperty","Util_getInheritableProperty","dict","has","inherit","Util_inherit","sub","base","loadScript","Util_loadScript","src","callback","script","loaded","setAttribute","onload","getElementsByTagName","appendChild","PageViewport","PageViewportClosure","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","abs","fontScale","clone","PageViewPort_clone","args","convertToViewportPoint","PageViewport_convertToViewportPoint","y","convertToViewportRectangle","PageViewport_convertToViewportRectangle","tl","br","convertToPdfPoint","PageViewport_convertToPdfPoint","PDFStringTranslateTable","stringToPDFString","stringToUTF8String","decodeURIComponent","escape","isEmptyObj","isBool","isInt","isNum","isString","isNull","isName","Name","isCmd","cmd","Cmd","isDict","type","Dict","dictType","isArray","isStream","getBytes","isArrayBuffer","isRef","Ref","createPromiseCapability","capability","promise","Promise","resolve","reject","PromiseClosure","all","iterable","count","results","resolve_","reject_","forEach","then","reason","catch","onReject","STATUS_PENDING","STATUS_RESOLVED","STATUS_REJECTED","REJECTION_TIMEOUT","HandlerManager","handlers","running","unhandledRejections","pendingRejectionCheck","scheduleHandlers","_status","concat","_handlers","setTimeout","runHandlers","bind","RUN_TIMEOUT","timeoutAt","Date","now","handler","shift","nextStatus","thisPromise","nextValue","_value","onResolve","_unhandledRejection","removeUnhandeledRejection","ex","nextPromise","_updateStatus","addUnhandledRejection","time","scheduleRejectionCheck","splice","rejectionCheck","unhandled","resolver","_resolve","_reject","Promise_all","promises","resolveAll","rejectAll","deferred","unresolved","isPromise","Promise_isPromise","Promise_resolve","Promise_reject","Promise__updateStatus","Promise_then","Promise_catch","StatTimer","StatTimerClosure","rpad","pad","started","times","enabled","StatTimer_time","timeEnd","StatTimer_timeEnd","toString","StatTimer_toString","out","longest","span","duration","createBlob","contentType","Blob","bb","MozBlobBuilder","append","getBlob","createObjectURL","createObjectURLClosure","digits","disableCreateObjectURL","URL","blob","b1","b2","b3","d1","d2","d3","d4","MessageHandler","comObj","callbackIndex","postMessageTransfers","callbacksCapabilities","ah","actionHandler","ahConsoleLog","ahConsoleError","ah_unsupportedFeature","onmessage","messageHandlerComObjOnMessage","event","isReply","callbackId","action","postMessage","on","messageHandlerOn","actionName","scope","send","messageHandlerSend","transfers","sendWithPromise","messageHandlerSendWithPromise","loadJpegStream","id","imageUrl","objs","img","Image","loadJpegStream_onloadClosure","onerror","loadJpegStream_onerrorClosure","maxImageSize","cMapUrl","cMapPacked","disableFontFace","imageResourcesPath","disableWorker","workerSrc","disableRange","disableStream","disableAutoFetch","disableWebGL","useOnlyCssZoom","maxCanvasPixels","getDocument","source","pdfDataRangeTransport","passwordCallback","progressCallback","workerInitializedCapability","workerReadyCapability","transport","params","location","href","WorkerTransport","transportInitialized","fetchDocument","PDFDocumentProxy","PDFDocumentProxyClosure","pdfInfo","numPages","fingerprint","getPage","PDFDocumentProxy_getPage","pageNumber","getPageIndex","PDFDocumentProxy_getPageIndex","ref","getDestinations","PDFDocumentProxy_getDestinations","getDestination","PDFDocumentProxy_getDestination","getAttachments","PDFDocumentProxy_getAttachments","getJavaScript","PDFDocumentProxy_getJavaScript","getOutline","PDFDocumentProxy_getOutline","getMetadata","PDFDocumentProxy_getMetadata","getData","PDFDocumentProxy_getData","getDownloadInfo","PDFDocumentProxy_getDownloadInfo","downloadInfoCapability","getStats","PDFDocumentProxy_getStats","cleanup","PDFDocumentProxy_cleanup","startCleanup","destroy","PDFDocumentProxy_destroy","PDFPageProxy","PDFPageProxyClosure","pageIndex","pageInfo","stats","enableStats","commonObjs","PDFObjects","cleanupAfterRender","pendingDestroy","intentStates","rotate","view","getViewport","PDFPageProxy_getViewport","getAnnotations","PDFPageProxy_getAnnotations","annotationsPromise","render","PDFPageProxy_render","renderingIntent","intent","intentState","displayReadyCapability","receivingOperatorList","operatorList","fnArray","argsArray","lastChunk","messageHandler","internalRenderTask","InternalRenderTask","complete","renderTasks","renderTask","RenderTask","self","pageDisplayReadyPromise","transparency","initalizeGraphics","operatorListChanged","pageDisplayReadPromiseError","_tryDestroy","getOperatorList","PDFPageProxy_getOperatorList","opListReadCapability","opListTask","getTextContent","PDFPageProxy_getTextContent","PDFPageProxy_destroy","PDFPageProxy__destroy","keys","some","clear","_startRenderPage","PDFPageProxy_startRenderPage","_renderPageChunk","PDFPageProxy_renderPageChunk","operatorListChunk","WorkerTransportClosure","pageCache","pagePromises","Worker","worker","transportTest","supportTypedArray","supportTransfers","setupMessageHandler","setupFakeWorker","testObj","WorkerTransport_destroy","FontLoader","terminate","WorkerTransport_setupFakeWorker","fakeWorkerFilesLoadedCapability","fakeWorker","WorkerTransport_postMessage","WorkerTransport_terminate","WorkerMessageHandler","setup","WorkerTransport_setupMessageHandler","updatePassword","password","addRangeListener","addProgressListener","addProgressiveReadListener","transportDataRange","requestDataRange","transportDoc","pdfDocument","transportNeedPassword","exception","transportIncorrectPassword","transportInvalidPDF","transportMissingPDF","transportUnexpectedResponse","transportUnknownError","transportPage","transportReady","transportRender","page","transportObj","hasData","exportedData","FontFaceObject","fontReady","fontObjs","pageProxy","MAX_IMAGE_SIZE_TO_STORE","transportDocProgress","total","transportError","pageNum","components","size","rgbaLength","buf","tmpCanvas","createScratchCanvas","tmpCtx","drawImage","getImageData","j","WorkerTransport_fetchDocument","chunkedViewerLoading","WorkerTransport_getData","WorkerTransport_getPage","WorkerTransport_getPageIndexByRef","WorkerTransport_getAnnotations","WorkerTransport_getDestinations","WorkerTransport_getDestination","WorkerTransport_getAttachments","WorkerTransport_getJavaScript","WorkerTransport_getOutline","WorkerTransport_getMetadata","transportMetadata","metadata","Metadata","WorkerTransport_getStats","WorkerTransport_startCleanup","endCleanup","PDFObjectsClosure","ensureObj","PDFObjects_ensureObj","objId","resolved","PDFObjects_get","PDFObjects_resolve","isResolved","PDFObjects_isResolved","PDFObjects_hasData","PDFObjects_getData","PDFObjects_clear","RenderTaskClosure","cancel","RenderTask_cancel","RenderTask_then","onFulfilled","onRejected","InternalRenderTaskClosure","operatorListIdx","graphicsReadyCallback","graphicsReady","cancelled","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","InternalRenderTask_initalizeGraphics","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","CanvasGraphics","canvasContext","imageLayer","beginDrawing","viewport","InternalRenderTask_cancel","InternalRenderTask_operatorListChanged","updateOperatorList","InternalRenderTask__continue","continueCallback","InternalRenderTask__scheduleNext","requestAnimationFrame","InternalRenderTask__next","executeOperatorList","endDrawing","MetadataClosure","fixMetadata","meta","replace","codes","chars","parser","DOMParser","parseFromString","Document","metaDocument","parse","Metadata_parse","doc","rdf","documentElement","nodeName","firstChild","nextSibling","hasChildNodes","children","childNodes","desc","entry","iLength","textContent","trim","Metadata_get","Metadata_has","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","addContextCurrentTransform","mozCurrentTransform","_scaleX","_scaleY","_originalSave","_originalRestore","_originalRotate","_originalScale","_originalTranslate","translate","_originalTransform","_originalSetTransform","setTransform","_transformMatrix","_transformStack","getCurrentTransform","getCurrentTransformInverse","f","ad_bc","bc_ad","ctxSave","old","ctxRestore","prev","pop","ctxTranslate","ctxScale","ctxTransform","ctxSetTransform","ctxRotate","angle","cosValue","cos","sinValue","sin","CachedCanvases","CachedCanvasesClosure","cache","getCanvas","CachedCanvases_getCanvas","trackTransform","canvasEntry","context","compileType3Glyph","imgData","POINT_TO_PROCESS_LIMIT","j0","width1","points","POINT_TYPES","lineSize","data0","pos","mask","elem","sum","steps","Int32Array","outlines","coords","p0","pp","step","drawOutline","beginPath","o","jj","CanvasExtraState","CanvasExtraStateClosure","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","fillColor","strokeColor","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","CanvasExtraState_clone","setCurrentPoint","CanvasExtraState_setCurrentPoint","CanvasGraphicsClosure","EXECUTION_TIME","EXECUTION_STEPS","canvasCtx","current","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","cachedGetSinglePixelWidth","putBinaryImageData","ImageData","putImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","srcPos","destPos","dest","thisChunkHeight","elemsInThisChunk","kind","srcLength","dest32","Uint32Array","dest32DataLength","fullSrcDiff","white","black","srcDiff","k","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","mozDashOffset","mozDash","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","subtype","backdrop","hasBackdrop","composeFn","PIXELS_TO_PROCESS","chunkSize","ceil","row","chunkHeight","composeSMask","scaleX","scaleY","WebGLUtils","isEnabled","composed","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","CanvasGraphics_beginDrawing","clearRect","mozOpaque","fillStyle","fillRect","beginLayout","CanvasGraphics_executeOperatorList","executionStartIdx","argsArrayLen","chunkOperations","endTime","fnId","breakIt","deps","nn","depObjId","common","objsPool","CanvasGraphics_endDrawing","endLayout","CanvasGraphics_setLineWidth","CanvasGraphics_setLineCap","style","lineCap","CanvasGraphics_setLineJoin","lineJoin","CanvasGraphics_setMiterLimit","limit","miterLimit","CanvasGraphics_setDash","dashArray","dashPhase","CanvasGraphics_setRenderingIntent","CanvasGraphics_setFlatness","flatness","CanvasGraphics_setGState","states","state","globalAlpha","mode","globalCompositeOperation","endSMaskGroup","beginSMaskGroup","CanvasGraphics_beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","CanvasGraphics_endSMaskGroup","CanvasGraphics_save","CanvasGraphics_restore","CanvasGraphics_transform","CanvasGraphics_constructPath","ops","getSinglePixelWidth","xw","yh","bezierCurveTo","CanvasGraphics_closePath","CanvasGraphics_stroke","consumePath","hasOwnProperty","strokeStyle","getPattern","CanvasGraphics_closeStroke","CanvasGraphics_fill","isPatternFill","needRestore","mozFillRule","CanvasGraphics_eoFill","CanvasGraphics_fillStroke","CanvasGraphics_eoFillStroke","CanvasGraphics_closeFillStroke","CanvasGraphics_closeEOFillStroke","CanvasGraphics_endPath","CanvasGraphics_clip","CanvasGraphics_eoClip","CanvasGraphics_beginText","CanvasGraphics_endText","paths","pendingTextPaths","path","addToPath","CanvasGraphics_setCharSpacing","spacing","CanvasGraphics_setWordSpacing","CanvasGraphics_setHScale","CanvasGraphics_setLeading","CanvasGraphics_setFont","fontRefName","fontObj","fontDirection","isType3Font","loadedName","bold","italic","typeface","fallbackName","browserFontSize","rule","CanvasGraphics_setTextRenderingMode","CanvasGraphics_setTextRise","rise","CanvasGraphics_moveText","CanvasGraphics_setLeadingMoveText","CanvasGraphics_setTextMatrix","CanvasGraphics_nextLine","paintChar","CanvasGraphics_paintChar","character","fillStrokeMode","isAddToPathSet","getPathGenerator","fillText","strokeText","isFontSubpixelAAEnabled","CanvasGraphics_showText","glyphs","showType3Text","glyphsLength","vertical","defaultVMetrics","widthAdvanceScale","simpleFillText","glyph","restoreNeeded","fontChar","accent","scaledX","scaledY","scaledAccentX","scaledAccentY","vmetric","vx","vy","remeasure","measuredWidth","measureText","characterScaleX","charWidth","CanvasGraphics_showType3Text","isTextInvisible","spacingLength","charProcOperatorList","operatorListId","transformed","CanvasGraphics_setCharWidth","xWidth","yWidth","CanvasGraphics_setCharWidthAndBounds","llx","lly","urx","ury","getColorN_Pattern","CanvasGraphics_getColorN_Pattern","IR","pattern","color","TilingPattern","getShadingPatternFromIR","CanvasGraphics_setStrokeColorN","CanvasGraphics_setFillColorN","CanvasGraphics_setStrokeRGBColor","CanvasGraphics_setFillRGBColor","CanvasGraphics_shadingFill","patternIR","inv","mozCurrentTransformInverse","bl","ul","ur","x0","y0","x1","y1","CanvasGraphics_beginInlineImage","CanvasGraphics_beginImageData","CanvasGraphics_paintFormXObjectBegin","matrix","bbox","CanvasGraphics_paintFormXObjectEnd","CanvasGraphics_beginGroup","group","isolated","knockout","bounds","canvasBounds","floor","CanvasGraphics_endGroup","imageSmoothingEnabled","mozImageSmoothingEnabled","CanvasGraphics_beginAnnotations","CanvasGraphics_endAnnotations","CanvasGraphics_beginAnnotation","CanvasGraphics_endAnnotation","CanvasGraphics_paintJpegXObject","w","h","domImage","position","getCanvasPosition","appendImage","left","top","CanvasGraphics_paintImageMaskXObject","compiled","maskCanvas","CanvasGraphics_paintImageMaskXObjectRepeat","positions","CanvasGraphics_paintImageMaskXObjectGroup","images","image","CanvasGraphics_paintImageXObject","CanvasGraphics_paintImageXObjectRepeat","map","CanvasGraphics_paintInlineImageXObject","widthScale","heightScale","imgToPaint","HTMLElement","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","CanvasGraphics_paintInlineImageXObjectGroup","CanvasGraphics_paintSolidColorImageMask","CanvasGraphics_markPoint","tag","CanvasGraphics_markPointProps","CanvasGraphics_beginMarkedContent","CanvasGraphics_beginMarkedContentProps","CanvasGraphics_endMarkedContent","CanvasGraphics_beginCompat","CanvasGraphics_endCompat","CanvasGraphics_consumePath","CanvasGraphics_getSinglePixelWidth","inverse","CanvasGraphics_getCanvasPosition","op","WebGLUtilsClosure","loadShader","gl","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","createVertexShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","createProgram","shaders","program","attachShader","linkProgram","linked","getProgramParameter","LINK_STATUS","getProgramInfoLog","createTexture","textureId","activeTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","currentGL","currentCanvas","generateGL","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","initSmaskGL","vertexShader","fragmentShader","useProgram","resolutionLocation","getUniformLocation","positionLocation","getAttribLocation","backdropLocation","subtypeLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","layer","drawingBufferWidth","drawingBufferHeight","uniform2f","uniform4f","TEXTURE0","maskTexture","TEXTURE1","clearColor","enable","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","flush","deleteTexture","deleteBuffer","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","initFiguresGL","scaleLocation","offsetLocation","colorLocation","drawFigures","backgroundColor","figures","rows","verticesPerRow","colors","coordsMap","colorsMap","pIndex","cIndex","figure","ps","cs","cols","col","coordsBuffer","colorsBuffer","ShadingIRs","RadialAxial","fromIR","RadialAxial_fromIR","raw","colorStops","r1","RadialAxial_getPattern","grad","createLinearGradient","createRadialGradient","addColorStop","createMeshCanvas","createMeshCanvasClosure","drawTriangle","c1","c2","c3","rowSize","tmp","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","round","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","q","combinesScale","EXPECTED_SCALE","MAX_PATTERN_SIZE","boundsWidth","boundsHeight","Mesh","Mesh_fromIR","background","Mesh_getPattern","owner","matrixScale","temporaryPatternCanvas","createPattern","Dummy","Dummy_fromIR","Dummy_fromIR_getPattern","shadingIR","TilingPatternClosure","PaintType","COLORED","UNCOLORED","xstep","ystep","paintType","tilingType","createPatternCanvas","TilinPattern_createPatternCanvas","topLeft","botRight","curMatrixScale","combinedScale","graphics","setFillAndStrokeStyleToContext","setScale","transformToScale","tmpTranslate","clipBbox","TilingPattern_setScale","TilingPattern_transformToScale","tmpScale","scaleToContext","TilingPattern_scaleToContext","bboxWidth","bboxHeight","cssColor","TilingPattern_getPattern","insertRule","fontLoaderInsertRule","styleElement","getElementById","styleSheet","sheet","cssRules","fontLoaderClear","parentNode","removeChild","nativeFontFaces","nativeFontFace","fonts","delete","loadTestFont","atob","loadTestFontId","loadingContext","requests","nextRequestId","isSyncFontLoadingSupported","detectSyncFontLoadingSupport","userAgent","navigator","isFontLoadingAPISupported","addNativeFontFace","fontLoader_addNativeFontFace","add","fontLoaderBind","rules","fontsToLoad","fontLoadPromises","attached","loading","createNativeFontFace","bindDOM","request","queueLoadingCallback","prepareFontLoadEvent","FontLoader_queueLoadingCallback","LoadLoader_completeRequest","otherRequest","requestId","fontLoaderPrepareFontLoadEvent","int32","spliceString","s","remove","insert","chunk1","substr","chunk2","called","isFontReady","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","names","div","fontFamily","body","FontFaceObjectClosure","file","compiledGlyphs","FontFaceObject_createNativeFontFace","FontFace","fontAdded","FontFaceObject_bindDOM","fontName","mimetype","FontLoader_getPathGenerator","js","Function","ANNOT_MIN_SIZE","AnnotationUtils","AnnotationUtilsClosure","setTextStyles","element","item","direction","fontWeight","fontStyle","initContainer","drawBorder","container","cstyle","bWidth","borderWidth","borderStyle","borderColor","getHtmlElementForTextWidgetAnnotation","display","content","fieldValue","textAlignment","textAlign","verticalAlign","getHtmlElementForTextAnnotation","className","iconName","alt","dataset","l10nId","l10nArgs","JSON","stringify","contentWrapper","hasBgColor","BACKGROUND_ENLIGHT","title","text","lines","line","createTextNode","pinned","showAnnotation","pin","hasAttribute","zIndex","removeAttribute","hideAnnotation","unpin","toggleAnnotation","addEventListener","image_clickHandler","image_mouseOverHandler","image_mouseOutHandler","content_clickHandler","getHtmlElementForLinkAnnotation","link","getHtmlElement","annotationType","SVG_DEFAULTS","convertImgDataToPng","convertImgDataToPngClosure","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","crc32","crc","writePngChunk","len","adler32","encode","bitDepth","colorType","literals","offsetLiterals","offsetBytes","ihdr","maxBlockLength","deflateBlocks","idat","pi","adler","pngLength","SVGExtraState","SVGExtraStateClosure","dependencies","clipId","maskId","SVGExtraState_clone","SVGExtraState_setCurrentPoint","SVGGraphics","SVGGraphicsClosure","createScratchSVG","NS","svg","createElementNS","setAttributeNS","opListToTree","opList","opTree","opListLen","fn","items","pf","toFixed","pm","acos","PI","transformMatrix","transformStack","extraStack","embedFonts","embeddedFonts","cssStyle","XML_NS","XLINK_NS","clipCount","maskCount","SVGGraphics_save","SVGGraphics_restore","tgrp","pgrp","SVGGraphics_group","executeOpTree","loadDependencies","SVGGraphics_loadDependencies","fnArrayLen","SVGGraphics_transform","getSVG","SVGGraphics_getSVG","defs","convertOpList","SVGGraphics_convertOpList","REVOPS","SVGGraphics_executeOpTree","opTreeLen","SVGGraphics_setWordSpacing","SVGGraphics_setCharSpacing","SVGGraphics_nextLine","SVGGraphics_setTextMatrix","lineMatrix","xcoords","tspan","txtElement","SVGGraphics_beginText","txtgrp","SVGGraphics_moveText","SVGGraphics_showText","SVGGraphics_setLeadingMoveText","addFontStyle","SVGGraphics_addFontStyle","SVGGraphics_setFont","SVGGraphics_endText","cgrp","SVGGraphics_setLineWidth","SVGGraphics_setLineCap","SVGGraphics_setLineJoin","SVGGraphics_setMiterLimit","SVGGraphics_setStrokeRGBColor","SVGGraphics_setFillRGBColor","SVGGraphics_setDash","SVGGraphics_constructPath","opLength","SVGGraphics_endPath","SVGGraphics_clip","clippath","clipElement","cloneNode","SVGGraphics_closePath","getAttributeNS","SVGGraphics_setLeading","SVGGraphics_setTextRise","SVGGraphics_setHScale","SVGGraphics_setGState","SVGGraphics_fill","SVGGraphics_stroke","SVGGraphics_eoFill","SVGGraphics_fillStroke","SVGGraphics_eoFillStroke","SVGGraphics_closeStroke","SVGGraphics_closeFillStroke","SVGGraphics_paintSolidColorImageMask","SVGGraphics_paintJpegXObject","imgObj","imgEl","SVGGraphics_paintImageXObject","SVGGraphics_paintInlineImageXObject","imgSrc","cliprect","SVGGraphics_paintImageMaskXObject","SVGGraphics_paintFormXObjectBegin","SVGGraphics_paintFormXObjectEnd","scriptTagContainer","pdfjsSrc","lastChild","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","ws","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","cached"],"mappings":"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","file":"pdf.73fd1d5e.js","sourceRoot":"../src","sourcesContent":["/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/*jshint globalstrict: false */\n/* globals PDFJS */\n\n// Initializing PDFJS global object (if still undefined)\nif (typeof PDFJS === 'undefined') {\n  (typeof window !== 'undefined' ? window : this).PDFJS = {};\n}\n\nPDFJS.version = '1.0.1040';\nPDFJS.build = '997096f';\n\n(function pdfjsWrapper() {\n  // Use strict in our context only - users might not want it\n  'use strict';\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals Cmd, ColorSpace, Dict, MozBlobBuilder, Name, PDFJS, Ref, URL,\n           Promise */\n\n'use strict';\n\nvar globalScope = (typeof window === 'undefined') ? this : window;\n\nvar isWorker = (typeof window === 'undefined');\n\nvar FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nvar TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\n\nvar ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\n\nvar AnnotationType = {\n  WIDGET: 1,\n  TEXT: 2,\n  LINK: 3\n};\n\nvar StreamType = {\n  UNKNOWN: 0,\n  FLATE: 1,\n  LZW: 2,\n  DCT: 3,\n  JPX: 4,\n  JBIG: 5,\n  A85: 6,\n  AHX: 7,\n  CCF: 8,\n  RL: 9\n};\n\nvar FontType = {\n  UNKNOWN: 0,\n  TYPE1: 1,\n  TYPE1C: 2,\n  CIDFONTTYPE0: 3,\n  CIDFONTTYPE0C: 4,\n  TRUETYPE: 5,\n  CIDFONTTYPE2: 6,\n  TYPE3: 7,\n  OPENTYPE: 8,\n  TYPE0: 9,\n  MMTYPE1: 10\n};\n\n// The global PDFJS object exposes the API\n// In production, it will be declared outside a global wrapper\n// In development, it will be declared here\nif (!globalScope.PDFJS) {\n  globalScope.PDFJS = {};\n}\n\nglobalScope.PDFJS.pdfBug = false;\n\nPDFJS.VERBOSITY_LEVELS = {\n  errors: 0,\n  warnings: 1,\n  infos: 5\n};\n\n// All the possible operations for an operator list.\nvar OPS = PDFJS.OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (PDFJS.verbosity >= PDFJS.VERBOSITY_LEVELS.infos) {\n    console.log('Info: ' + msg);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (PDFJS.verbosity >= PDFJS.VERBOSITY_LEVELS.warnings) {\n    console.log('Warning: ' + msg);\n  }\n}\n\n// Fatal errors that should trigger the fallback UI and halt execution by\n// throwing an exception.\nfunction error(msg) {\n  // If multiple arguments were passed, pass them all to the log function.\n  if (arguments.length > 1) {\n    var logArguments = ['Error:'];\n    logArguments.push.apply(logArguments, arguments);\n    console.log.apply(console, logArguments);\n    // Join the arguments into a single string for the lines below.\n    msg = [].join.call(arguments, ' ');\n  } else {\n    console.log('Error: ' + msg);\n  }\n  console.log(backtrace());\n  UnsupportedManager.notify(UNSUPPORTED_FEATURES.unknown);\n  throw new Error(msg);\n}\n\nfunction backtrace() {\n  try {\n    throw new Error();\n  } catch (e) {\n    return e.stack ? e.stack.split('\\n').slice(2).join('\\n') : '';\n  }\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    error(msg);\n  }\n}\n\nvar UNSUPPORTED_FEATURES = PDFJS.UNSUPPORTED_FEATURES = {\n  unknown: 'unknown',\n  forms: 'forms',\n  javaScript: 'javaScript',\n  smask: 'smask',\n  shadingPattern: 'shadingPattern',\n  font: 'font'\n};\n\nvar UnsupportedManager = PDFJS.UnsupportedManager =\n  (function UnsupportedManagerClosure() {\n  var listeners = [];\n  return {\n    listen: function (cb) {\n      listeners.push(cb);\n    },\n    notify: function (featureId) {\n      warn('Unsupported feature \"' + featureId + '\"');\n      for (var i = 0, ii = listeners.length; i < ii; i++) {\n        listeners[i](featureId);\n      }\n    }\n  };\n})();\n\n// Combines two URLs. The baseUrl shall be absolute URL. If the url is an\n// absolute URL, it will be returned as is.\nfunction combineUrl(baseUrl, url) {\n  if (!url) {\n    return baseUrl;\n  }\n  if (/^[a-z][a-z0-9+\\-.]*:/i.test(url)) {\n    return url;\n  }\n  var i;\n  if (url.charAt(0) === '/') {\n    // absolute path\n    i = baseUrl.indexOf('://');\n    if (url.charAt(1) === '/') {\n      ++i;\n    } else {\n      i = baseUrl.indexOf('/', i + 3);\n    }\n    return baseUrl.substring(0, i) + url;\n  } else {\n    // relative path\n    var pathLength = baseUrl.length;\n    i = baseUrl.lastIndexOf('#');\n    pathLength = i >= 0 ? i : pathLength;\n    i = baseUrl.lastIndexOf('?', pathLength);\n    pathLength = i >= 0 ? i : pathLength;\n    var prefixLength = baseUrl.lastIndexOf('/', pathLength);\n    return baseUrl.substring(0, prefixLength + 1) + url;\n  }\n}\n\n// Validates if URL is safe and allowed, e.g. to avoid XSS.\nfunction isValidUrl(url, allowRelative) {\n  if (!url) {\n    return false;\n  }\n  // RFC 3986 (http://tools.ietf.org/html/rfc3986#section-3.1)\n  // scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n  var protocol = /^[a-z][a-z0-9+\\-.]*(?=:)/i.exec(url);\n  if (!protocol) {\n    return allowRelative;\n  }\n  protocol = protocol[0].toLowerCase();\n  switch (protocol) {\n    case 'http':\n    case 'https':\n    case 'ftp':\n    case 'mailto':\n      return true;\n    default:\n      return false;\n  }\n}\nPDFJS.isValidUrl = isValidUrl;\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, { value: value,\n                                     enumerable: true,\n                                     configurable: true,\n                                     writable: false });\n  return value;\n}\n\nvar PasswordResponses = PDFJS.PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\n\nvar PasswordException = (function PasswordExceptionClosure() {\n  function PasswordException(msg, code) {\n    this.name = 'PasswordException';\n    this.message = msg;\n    this.code = code;\n  }\n\n  PasswordException.prototype = new Error();\n  PasswordException.constructor = PasswordException;\n\n  return PasswordException;\n})();\nPDFJS.PasswordException = PasswordException;\n\nvar UnknownErrorException = (function UnknownErrorExceptionClosure() {\n  function UnknownErrorException(msg, details) {\n    this.name = 'UnknownErrorException';\n    this.message = msg;\n    this.details = details;\n  }\n\n  UnknownErrorException.prototype = new Error();\n  UnknownErrorException.constructor = UnknownErrorException;\n\n  return UnknownErrorException;\n})();\nPDFJS.UnknownErrorException = UnknownErrorException;\n\nvar InvalidPDFException = (function InvalidPDFExceptionClosure() {\n  function InvalidPDFException(msg) {\n    this.name = 'InvalidPDFException';\n    this.message = msg;\n  }\n\n  InvalidPDFException.prototype = new Error();\n  InvalidPDFException.constructor = InvalidPDFException;\n\n  return InvalidPDFException;\n})();\nPDFJS.InvalidPDFException = InvalidPDFException;\n\nvar MissingPDFException = (function MissingPDFExceptionClosure() {\n  function MissingPDFException(msg) {\n    this.name = 'MissingPDFException';\n    this.message = msg;\n  }\n\n  MissingPDFException.prototype = new Error();\n  MissingPDFException.constructor = MissingPDFException;\n\n  return MissingPDFException;\n})();\nPDFJS.MissingPDFException = MissingPDFException;\n\nvar UnexpectedResponseException =\n    (function UnexpectedResponseExceptionClosure() {\n  function UnexpectedResponseException(msg, status) {\n    this.name = 'UnexpectedResponseException';\n    this.message = msg;\n    this.status = status;\n  }\n\n  UnexpectedResponseException.prototype = new Error();\n  UnexpectedResponseException.constructor = UnexpectedResponseException;\n\n  return UnexpectedResponseException;\n})();\nPDFJS.UnexpectedResponseException = UnexpectedResponseException;\n\nvar NotImplementedException = (function NotImplementedExceptionClosure() {\n  function NotImplementedException(msg) {\n    this.message = msg;\n  }\n\n  NotImplementedException.prototype = new Error();\n  NotImplementedException.prototype.name = 'NotImplementedException';\n  NotImplementedException.constructor = NotImplementedException;\n\n  return NotImplementedException;\n})();\n\nvar MissingDataException = (function MissingDataExceptionClosure() {\n  function MissingDataException(begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.message = 'Missing data [' + begin + ', ' + end + ')';\n  }\n\n  MissingDataException.prototype = new Error();\n  MissingDataException.prototype.name = 'MissingDataException';\n  MissingDataException.constructor = MissingDataException;\n\n  return MissingDataException;\n})();\n\nvar XRefParseException = (function XRefParseExceptionClosure() {\n  function XRefParseException(msg) {\n    this.message = msg;\n  }\n\n  XRefParseException.prototype = new Error();\n  XRefParseException.prototype.name = 'XRefParseException';\n  XRefParseException.constructor = XRefParseException;\n\n  return XRefParseException;\n})();\n\n\nfunction bytesToString(bytes) {\n  var length = bytes.length;\n  var MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  var strBuf = [];\n  for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    var chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join('');\n}\n\nfunction stringToBytes(str) {\n  var length = str.length;\n  var bytes = new Uint8Array(length);\n  for (var i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xFF;\n  }\n  return bytes;\n}\n\nfunction string32(value) {\n  return String.fromCharCode((value >> 24) & 0xff, (value >> 16) & 0xff,\n                             (value >> 8) & 0xff, value & 0xff);\n}\n\nfunction log2(x) {\n  var n = 1, i = 0;\n  while (x > n) {\n    n <<= 1;\n    i++;\n  }\n  return i;\n}\n\nfunction readInt8(data, start) {\n  return (data[start] << 24) >> 24;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return ((data[offset] << 24) | (data[offset + 1] << 16) |\n         (data[offset + 2] << 8) | data[offset + 3]) >>> 0;\n}\n\n// Lazy test the endianness of the platform\n// NOTE: This will be 'true' for simulated TypedArrays\nfunction isLittleEndian() {\n  var buffer8 = new Uint8Array(2);\n  buffer8[0] = 1;\n  var buffer16 = new Uint16Array(buffer8.buffer);\n  return (buffer16[0] === 1);\n}\n\nObject.defineProperty(PDFJS, 'isLittleEndian', {\n  configurable: true,\n  get: function PDFJS_isLittleEndian() {\n    return shadow(PDFJS, 'isLittleEndian', isLittleEndian());\n  }\n});\n\n  // Lazy test if the userAgant support CanvasTypedArrays\nfunction hasCanvasTypedArrays() {\n  var canvas = document.createElement('canvas');\n  canvas.width = canvas.height = 1;\n  var ctx = canvas.getContext('2d');\n  var imageData = ctx.createImageData(1, 1);\n  return (typeof imageData.data.buffer !== 'undefined');\n}\n\nObject.defineProperty(PDFJS, 'hasCanvasTypedArrays', {\n  configurable: true,\n  get: function PDFJS_hasCanvasTypedArrays() {\n    return shadow(PDFJS, 'hasCanvasTypedArrays', hasCanvasTypedArrays());\n  }\n});\n\nvar Uint32ArrayView = (function Uint32ArrayViewClosure() {\n\n  function Uint32ArrayView(buffer, length) {\n    this.buffer = buffer;\n    this.byteLength = buffer.length;\n    this.length = length === undefined ? (this.byteLength >> 2) : length;\n    ensureUint32ArrayViewProps(this.length);\n  }\n  Uint32ArrayView.prototype = Object.create(null);\n\n  var uint32ArrayViewSetters = 0;\n  function createUint32ArrayProp(index) {\n    return {\n      get: function () {\n        var buffer = this.buffer, offset = index << 2;\n        return (buffer[offset] | (buffer[offset + 1] << 8) |\n          (buffer[offset + 2] << 16) | (buffer[offset + 3] << 24)) >>> 0;\n      },\n      set: function (value) {\n        var buffer = this.buffer, offset = index << 2;\n        buffer[offset] = value & 255;\n        buffer[offset + 1] = (value >> 8) & 255;\n        buffer[offset + 2] = (value >> 16) & 255;\n        buffer[offset + 3] = (value >>> 24) & 255;\n      }\n    };\n  }\n\n  function ensureUint32ArrayViewProps(length) {\n    while (uint32ArrayViewSetters < length) {\n      Object.defineProperty(Uint32ArrayView.prototype,\n        uint32ArrayViewSetters,\n        createUint32ArrayProp(uint32ArrayViewSetters));\n      uint32ArrayViewSetters++;\n    }\n  }\n\n  return Uint32ArrayView;\n})();\n\nvar IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\nvar Util = PDFJS.Util = (function UtilClosure() {\n  function Util() {}\n\n  var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n\n  // makeCssRgb() can be called thousands of times. Using |rgbBuf| avoids\n  // creating many intermediate strings.\n  Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join('');\n  };\n\n  // Concatenates two transformation matrices together and returns the result.\n  Util.transform = function Util_transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5]\n    ];\n  };\n\n  // For 2d affine transforms\n  Util.applyTransform = function Util_applyTransform(p, m) {\n    var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  };\n\n  Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  };\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  Util.getAxialAlignedBoundingBox =\n    function Util_getAxialAlignedBoundingBox(r, m) {\n\n    var p1 = Util.applyTransform(r, m);\n    var p2 = Util.applyTransform(r.slice(2, 4), m);\n    var p3 = Util.applyTransform([r[0], r[3]], m);\n    var p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1])\n    ];\n  };\n\n  Util.inverseTransform = function Util_inverseTransform(m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  };\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2]\n    ];\n  };\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  Util.singularValueDecompose2dScale =\n    function Util_singularValueDecompose2dScale(m) {\n\n    var transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    var a = m[0] * transpose[0] + m[1] * transpose[2];\n    var b = m[0] * transpose[1] + m[1] * transpose[3];\n    var c = m[2] * transpose[0] + m[3] * transpose[2];\n    var d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    var first = (a + d) / 2;\n    var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    var sx = first + second || 1;\n    var sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  };\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  Util.normalizeRect = function Util_normalizeRect(rect) {\n    var r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  };\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  Util.intersect = function Util_intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n        orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n        result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if ((orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n        (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return false;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if ((orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n        (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return false;\n    }\n\n    return result;\n  };\n\n  Util.sign = function Util_sign(num) {\n    return num < 0 ? -1 : 1;\n  };\n\n  Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n    Array.prototype.push.apply(arr1, arr2);\n  };\n\n  Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n    Array.prototype.unshift.apply(arr1, arr2);\n  };\n\n  Util.extendObj = function extendObj(obj1, obj2) {\n    for (var key in obj2) {\n      obj1[key] = obj2[key];\n    }\n  };\n\n  Util.getInheritableProperty = function Util_getInheritableProperty(dict,\n                                                                     name) {\n    while (dict && !dict.has(name)) {\n      dict = dict.get('Parent');\n    }\n    if (!dict) {\n      return null;\n    }\n    return dict.get(name);\n  };\n\n  Util.inherit = function Util_inherit(sub, base, prototype) {\n    sub.prototype = Object.create(base.prototype);\n    sub.prototype.constructor = sub;\n    for (var prop in prototype) {\n      sub.prototype[prop] = prototype[prop];\n    }\n  };\n\n  Util.loadScript = function Util_loadScript(src, callback) {\n    var script = document.createElement('script');\n    var loaded = false;\n    script.setAttribute('src', src);\n    if (callback) {\n      script.onload = function() {\n        if (!loaded) {\n          callback();\n        }\n        loaded = true;\n      };\n    }\n    document.getElementsByTagName('head')[0].appendChild(script);\n  };\n\n  return Util;\n})();\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n * @class\n * @alias PDFJS.PageViewport\n */\nvar PageViewport = PDFJS.PageViewport = (function PageViewportClosure() {\n  /**\n   * @constructor\n   * @private\n   * @param viewBox {Array} xMin, yMin, xMax and yMax coordinates.\n   * @param scale {number} scale of the viewport.\n   * @param rotation {number} rotations of the viewport in degrees.\n   * @param offsetX {number} offset X\n   * @param offsetY {number} offset Y\n   * @param dontFlip {boolean} if true, axis Y will not be flipped.\n   */\n  function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    var centerX = (viewBox[2] + viewBox[0]) / 2;\n    var centerY = (viewBox[3] + viewBox[1]) / 2;\n    var rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1; rotateB = 0; rotateC = 0; rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0; rotateB = 1; rotateC = 1; rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0; rotateB = -1; rotateC = -1; rotateD = 0;\n        break;\n      //case 0:\n      default:\n        rotateA = 1; rotateB = 0; rotateC = 0; rotateD = -1;\n        break;\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC; rotateD = -rotateD;\n    }\n\n    var offsetCanvasX, offsetCanvasY;\n    var width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY\n    ];\n\n    this.width = width;\n    this.height = height;\n    this.fontScale = scale;\n  }\n  PageViewport.prototype = /** @lends PDFJS.PageViewport.prototype */ {\n    /**\n     * Clones viewport with additional properties.\n     * @param args {Object} (optional) If specified, may contain the 'scale' or\n     * 'rotation' properties to override the corresponding properties in\n     * the cloned viewport.\n     * @returns {PDFJS.PageViewport} Cloned viewport.\n     */\n    clone: function PageViewPort_clone(args) {\n      args = args || {};\n      var scale = 'scale' in args ? args.scale : this.scale;\n      var rotation = 'rotation' in args ? args.rotation : this.rotation;\n      return new PageViewport(this.viewBox.slice(), scale, rotation,\n                              this.offsetX, this.offsetY, args.dontFlip);\n    },\n    /**\n     * Converts PDF point to the viewport coordinates. For examples, useful for\n     * converting PDF location into canvas pixel coordinates.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the viewport coordinate space.\n     * @see {@link convertToPdfPoint}\n     * @see {@link convertToViewportRectangle}\n     */\n    convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n      return Util.applyTransform([x, y], this.transform);\n    },\n    /**\n     * Converts PDF rectangle to the viewport coordinates.\n     * @param rect {Array} xMin, yMin, xMax and yMax coordinates.\n     * @returns {Array} Contains corresponding coordinates of the rectangle\n     * in the viewport coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToViewportRectangle:\n      function PageViewport_convertToViewportRectangle(rect) {\n      var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n      var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n      return [tl[0], tl[1], br[0], br[1]];\n    },\n    /**\n     * Converts viewport coordinates to the PDF location. For examples, useful\n     * for converting canvas pixel location into PDF one.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the PDF coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n      return Util.applyInverseTransform([x, y], this.transform);\n    }\n  };\n  return PageViewport;\n})();\n\nvar PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  var i, n = str.length, strBuf = [];\n  if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n    // UTF16BE BOM\n    for (i = 2; i < n; i += 2) {\n      strBuf.push(String.fromCharCode(\n        (str.charCodeAt(i) << 8) | str.charCodeAt(i + 1)));\n    }\n  } else {\n    for (i = 0; i < n; ++i) {\n      var code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join('');\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction isEmptyObj(obj) {\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n}\n\nfunction isBool(v) {\n  return typeof v === 'boolean';\n}\n\nfunction isInt(v) {\n  return typeof v === 'number' && ((v | 0) === v);\n}\n\nfunction isNum(v) {\n  return typeof v === 'number';\n}\n\nfunction isString(v) {\n  return typeof v === 'string';\n}\n\nfunction isNull(v) {\n  return v === null;\n}\n\nfunction isName(v) {\n  return v instanceof Name;\n}\n\nfunction isCmd(v, cmd) {\n  return v instanceof Cmd && (cmd === undefined || v.cmd === cmd);\n}\n\nfunction isDict(v, type) {\n  if (!(v instanceof Dict)) {\n    return false;\n  }\n  if (!type) {\n    return true;\n  }\n  var dictType = v.get('Type');\n  return isName(dictType) && dictType.name === type;\n}\n\nfunction isArray(v) {\n  return v instanceof Array;\n}\n\nfunction isStream(v) {\n  return typeof v === 'object' && v !== null && v.getBytes !== undefined;\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === 'object' && v !== null && v.byteLength !== undefined;\n}\n\nfunction isRef(v) {\n  return v instanceof Ref;\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise} promise - A promise object.\n * @property {function} resolve - Fullfills the promise.\n * @property {function} reject - Rejects the promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias PDFJS.createPromiseCapability\n *\n * @return {PromiseCapability} A capability object contains:\n * - a Promise, resolve and reject methods.\n */\nfunction createPromiseCapability() {\n  var capability = {};\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = resolve;\n    capability.reject = reject;\n  });\n  return capability;\n}\n\nPDFJS.createPromiseCapability = createPromiseCapability;\n\n/**\n * Polyfill for Promises:\n * The following promise implementation tries to generally implement the\n * Promise/A+ spec. Some notable differences from other promise libaries are:\n * - There currently isn't a seperate deferred and promise object.\n * - Unhandled rejections eventually show an error if they aren't handled.\n *\n * Based off of the work in:\n * https://bugzilla.mozilla.org/show_bug.cgi?id=810490\n */\n(function PromiseClosure() {\n  if (globalScope.Promise) {\n    // Promises existing in the DOM/Worker, checking presence of all/resolve\n    if (typeof globalScope.Promise.all !== 'function') {\n      globalScope.Promise.all = function (iterable) {\n        var count = 0, results = [], resolve, reject;\n        var promise = new globalScope.Promise(function (resolve_, reject_) {\n          resolve = resolve_;\n          reject = reject_;\n        });\n        iterable.forEach(function (p, i) {\n          count++;\n          p.then(function (result) {\n            results[i] = result;\n            count--;\n            if (count === 0) {\n              resolve(results);\n            }\n          }, reject);\n        });\n        if (count === 0) {\n          resolve(results);\n        }\n        return promise;\n      };\n    }\n    if (typeof globalScope.Promise.resolve !== 'function') {\n      globalScope.Promise.resolve = function (value) {\n        return new globalScope.Promise(function (resolve) { resolve(value); });\n      };\n    }\n    if (typeof globalScope.Promise.reject !== 'function') {\n      globalScope.Promise.reject = function (reason) {\n        return new globalScope.Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      };\n    }\n    if (typeof globalScope.Promise.prototype.catch !== 'function') {\n      globalScope.Promise.prototype.catch = function (onReject) {\n        return globalScope.Promise.prototype.then(undefined, onReject);\n      };\n    }\n    return;\n  }\n  var STATUS_PENDING = 0;\n  var STATUS_RESOLVED = 1;\n  var STATUS_REJECTED = 2;\n\n  // In an attempt to avoid silent exceptions, unhandled rejections are\n  // tracked and if they aren't handled in a certain amount of time an\n  // error is logged.\n  var REJECTION_TIMEOUT = 500;\n\n  var HandlerManager = {\n    handlers: [],\n    running: false,\n    unhandledRejections: [],\n    pendingRejectionCheck: false,\n\n    scheduleHandlers: function scheduleHandlers(promise) {\n      if (promise._status === STATUS_PENDING) {\n        return;\n      }\n\n      this.handlers = this.handlers.concat(promise._handlers);\n      promise._handlers = [];\n\n      if (this.running) {\n        return;\n      }\n      this.running = true;\n\n      setTimeout(this.runHandlers.bind(this), 0);\n    },\n\n    runHandlers: function runHandlers() {\n      var RUN_TIMEOUT = 1; // ms\n      var timeoutAt = Date.now() + RUN_TIMEOUT;\n      while (this.handlers.length > 0) {\n        var handler = this.handlers.shift();\n\n        var nextStatus = handler.thisPromise._status;\n        var nextValue = handler.thisPromise._value;\n\n        try {\n          if (nextStatus === STATUS_RESOLVED) {\n            if (typeof handler.onResolve === 'function') {\n              nextValue = handler.onResolve(nextValue);\n            }\n          } else if (typeof handler.onReject === 'function') {\n              nextValue = handler.onReject(nextValue);\n              nextStatus = STATUS_RESOLVED;\n\n              if (handler.thisPromise._unhandledRejection) {\n                this.removeUnhandeledRejection(handler.thisPromise);\n              }\n          }\n        } catch (ex) {\n          nextStatus = STATUS_REJECTED;\n          nextValue = ex;\n        }\n\n        handler.nextPromise._updateStatus(nextStatus, nextValue);\n        if (Date.now() >= timeoutAt) {\n          break;\n        }\n      }\n\n      if (this.handlers.length > 0) {\n        setTimeout(this.runHandlers.bind(this), 0);\n        return;\n      }\n\n      this.running = false;\n    },\n\n    addUnhandledRejection: function addUnhandledRejection(promise) {\n      this.unhandledRejections.push({\n        promise: promise,\n        time: Date.now()\n      });\n      this.scheduleRejectionCheck();\n    },\n\n    removeUnhandeledRejection: function removeUnhandeledRejection(promise) {\n      promise._unhandledRejection = false;\n      for (var i = 0; i < this.unhandledRejections.length; i++) {\n        if (this.unhandledRejections[i].promise === promise) {\n          this.unhandledRejections.splice(i);\n          i--;\n        }\n      }\n    },\n\n    scheduleRejectionCheck: function scheduleRejectionCheck() {\n      if (this.pendingRejectionCheck) {\n        return;\n      }\n      this.pendingRejectionCheck = true;\n      setTimeout(function rejectionCheck() {\n        this.pendingRejectionCheck = false;\n        var now = Date.now();\n        for (var i = 0; i < this.unhandledRejections.length; i++) {\n          if (now - this.unhandledRejections[i].time > REJECTION_TIMEOUT) {\n            var unhandled = this.unhandledRejections[i].promise._value;\n            var msg = 'Unhandled rejection: ' + unhandled;\n            if (unhandled.stack) {\n              msg += '\\n' + unhandled.stack;\n            }\n            warn(msg);\n            this.unhandledRejections.splice(i);\n            i--;\n          }\n        }\n        if (this.unhandledRejections.length) {\n          this.scheduleRejectionCheck();\n        }\n      }.bind(this), REJECTION_TIMEOUT);\n    }\n  };\n\n  function Promise(resolver) {\n    this._status = STATUS_PENDING;\n    this._handlers = [];\n    try {\n      resolver.call(this, this._resolve.bind(this), this._reject.bind(this));\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n  /**\n   * Builds a promise that is resolved when all the passed in promises are\n   * resolved.\n   * @param {array} array of data and/or promises to wait for.\n   * @return {Promise} New dependant promise.\n   */\n  Promise.all = function Promise_all(promises) {\n    var resolveAll, rejectAll;\n    var deferred = new Promise(function (resolve, reject) {\n      resolveAll = resolve;\n      rejectAll = reject;\n    });\n    var unresolved = promises.length;\n    var results = [];\n    if (unresolved === 0) {\n      resolveAll(results);\n      return deferred;\n    }\n    function reject(reason) {\n      if (deferred._status === STATUS_REJECTED) {\n        return;\n      }\n      results = [];\n      rejectAll(reason);\n    }\n    for (var i = 0, ii = promises.length; i < ii; ++i) {\n      var promise = promises[i];\n      var resolve = (function(i) {\n        return function(value) {\n          if (deferred._status === STATUS_REJECTED) {\n            return;\n          }\n          results[i] = value;\n          unresolved--;\n          if (unresolved === 0) {\n            resolveAll(results);\n          }\n        };\n      })(i);\n      if (Promise.isPromise(promise)) {\n        promise.then(resolve, reject);\n      } else {\n        resolve(promise);\n      }\n    }\n    return deferred;\n  };\n\n  /**\n   * Checks if the value is likely a promise (has a 'then' function).\n   * @return {boolean} true if value is thenable\n   */\n  Promise.isPromise = function Promise_isPromise(value) {\n    return value && typeof value.then === 'function';\n  };\n\n  /**\n   * Creates resolved promise\n   * @param value resolve value\n   * @returns {Promise}\n   */\n  Promise.resolve = function Promise_resolve(value) {\n    return new Promise(function (resolve) { resolve(value); });\n  };\n\n  /**\n   * Creates rejected promise\n   * @param reason rejection value\n   * @returns {Promise}\n   */\n  Promise.reject = function Promise_reject(reason) {\n    return new Promise(function (resolve, reject) { reject(reason); });\n  };\n\n  Promise.prototype = {\n    _status: null,\n    _value: null,\n    _handlers: null,\n    _unhandledRejection: null,\n\n    _updateStatus: function Promise__updateStatus(status, value) {\n      if (this._status === STATUS_RESOLVED ||\n          this._status === STATUS_REJECTED) {\n        return;\n      }\n\n      if (status === STATUS_RESOLVED &&\n          Promise.isPromise(value)) {\n        value.then(this._updateStatus.bind(this, STATUS_RESOLVED),\n                   this._updateStatus.bind(this, STATUS_REJECTED));\n        return;\n      }\n\n      this._status = status;\n      this._value = value;\n\n      if (status === STATUS_REJECTED && this._handlers.length === 0) {\n        this._unhandledRejection = true;\n        HandlerManager.addUnhandledRejection(this);\n      }\n\n      HandlerManager.scheduleHandlers(this);\n    },\n\n    _resolve: function Promise_resolve(value) {\n      this._updateStatus(STATUS_RESOLVED, value);\n    },\n\n    _reject: function Promise_reject(reason) {\n      this._updateStatus(STATUS_REJECTED, reason);\n    },\n\n    then: function Promise_then(onResolve, onReject) {\n      var nextPromise = new Promise(function (resolve, reject) {\n        this.resolve = resolve;\n        this.reject = reject;\n      });\n      this._handlers.push({\n        thisPromise: this,\n        onResolve: onResolve,\n        onReject: onReject,\n        nextPromise: nextPromise\n      });\n      HandlerManager.scheduleHandlers(this);\n      return nextPromise;\n    },\n\n    catch: function Promise_catch(onReject) {\n      return this.then(undefined, onReject);\n    }\n  };\n\n  globalScope.Promise = Promise;\n})();\n\nvar StatTimer = (function StatTimerClosure() {\n  function rpad(str, pad, length) {\n    while (str.length < length) {\n      str += pad;\n    }\n    return str;\n  }\n  function StatTimer() {\n    this.started = {};\n    this.times = [];\n    this.enabled = true;\n  }\n  StatTimer.prototype = {\n    time: function StatTimer_time(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (name in this.started) {\n        warn('Timer is already running for ' + name);\n      }\n      this.started[name] = Date.now();\n    },\n    timeEnd: function StatTimer_timeEnd(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (!(name in this.started)) {\n        warn('Timer has not been started for ' + name);\n      }\n      this.times.push({\n        'name': name,\n        'start': this.started[name],\n        'end': Date.now()\n      });\n      // Remove timer from started so it can be called again.\n      delete this.started[name];\n    },\n    toString: function StatTimer_toString() {\n      var i, ii;\n      var times = this.times;\n      var out = '';\n      // Find the longest name for padding purposes.\n      var longest = 0;\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var name = times[i]['name'];\n        if (name.length > longest) {\n          longest = name.length;\n        }\n      }\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var span = times[i];\n        var duration = span.end - span.start;\n        out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n      }\n      return out;\n    }\n  };\n  return StatTimer;\n})();\n\nPDFJS.createBlob = function createBlob(data, contentType) {\n  if (typeof Blob !== 'undefined') {\n    return new Blob([data], { type: contentType });\n  }\n  // Blob builder is deprecated in FF14 and removed in FF18.\n  var bb = new MozBlobBuilder();\n  bb.append(data);\n  return bb.getBlob(contentType);\n};\n\nPDFJS.createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  var digits =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  return function createObjectURL(data, contentType) {\n    if (!PDFJS.disableCreateObjectURL &&\n        typeof URL !== 'undefined' && URL.createObjectURL) {\n      var blob = PDFJS.createBlob(data, contentType);\n      return URL.createObjectURL(blob);\n    }\n\n    var buffer = 'data:' + contentType + ';base64,';\n    for (var i = 0, ii = data.length; i < ii; i += 3) {\n      var b1 = data[i] & 0xFF;\n      var b2 = data[i + 1] & 0xFF;\n      var b3 = data[i + 2] & 0xFF;\n      var d1 = b1 >> 2, d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      var d3 = i + 1 < ii ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\n      var d4 = i + 2 < ii ? (b3 & 0x3F) : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nfunction MessageHandler(name, comObj) {\n  this.name = name;\n  this.comObj = comObj;\n  this.callbackIndex = 1;\n  this.postMessageTransfers = true;\n  var callbacksCapabilities = this.callbacksCapabilities = {};\n  var ah = this.actionHandler = {};\n\n  ah['console_log'] = [function ahConsoleLog(data) {\n    console.log.apply(console, data);\n  }];\n  ah['console_error'] = [function ahConsoleError(data) {\n    console.error.apply(console, data);\n  }];\n  ah['_unsupported_feature'] = [function ah_unsupportedFeature(data) {\n    UnsupportedManager.notify(data);\n  }];\n\n  comObj.onmessage = function messageHandlerComObjOnMessage(event) {\n    var data = event.data;\n    if (data.isReply) {\n      var callbackId = data.callbackId;\n      if (data.callbackId in callbacksCapabilities) {\n        var callback = callbacksCapabilities[callbackId];\n        delete callbacksCapabilities[callbackId];\n        if ('error' in data) {\n          callback.reject(data.error);\n        } else {\n          callback.resolve(data.data);\n        }\n      } else {\n        error('Cannot resolve callback ' + callbackId);\n      }\n    } else if (data.action in ah) {\n      var action = ah[data.action];\n      if (data.callbackId) {\n        Promise.resolve().then(function () {\n          return action[0].call(action[1], data.data);\n        }).then(function (result) {\n          comObj.postMessage({\n            isReply: true,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            isReply: true,\n            callbackId: data.callbackId,\n            error: reason\n          });\n        });\n      } else {\n        action[0].call(action[1], data.data);\n      }\n    } else {\n      error('Unknown action from worker: ' + data.action);\n    }\n  };\n}\n\nMessageHandler.prototype = {\n  on: function messageHandlerOn(actionName, handler, scope) {\n    var ah = this.actionHandler;\n    if (ah[actionName]) {\n      error('There is already an actionName called \"' + actionName + '\"');\n    }\n    ah[actionName] = [handler, scope];\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {String} actionName Action to call.\n   * @param {JSON} data JSON data to send.\n   * @param {Array} [transfers] Optional list of transfers/ArrayBuffers\n   */\n  send: function messageHandlerSend(actionName, data, transfers) {\n    var message = {\n      action: actionName,\n      data: data\n    };\n    this.postMessage(message, transfers);\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that other side will callback with the response.\n   * @param {String} actionName Action to call.\n   * @param {JSON} data JSON data to send.\n   * @param {Array} [transfers] Optional list of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise:\n    function messageHandlerSendWithPromise(actionName, data, transfers) {\n    var callbackId = this.callbackIndex++;\n    var message = {\n      action: actionName,\n      data: data,\n      callbackId: callbackId\n    };\n    var capability = createPromiseCapability();\n    this.callbacksCapabilities[callbackId] = capability;\n    try {\n      this.postMessage(message, transfers);\n    } catch (e) {\n      capability.reject(e);\n    }\n    return capability.promise;\n  },\n  /**\n   * Sends raw message to the comObj.\n   * @private\n   * @param message {Object} Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   */\n  postMessage: function (message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n};\n\nfunction loadJpegStream(id, imageUrl, objs) {\n  var img = new Image();\n  img.onload = (function loadJpegStream_onloadClosure() {\n    objs.resolve(id, img);\n  });\n  img.onerror = (function loadJpegStream_onerrorClosure() {\n    objs.resolve(id, null);\n    warn('Error during JPEG image loading');\n  });\n  img.src = imageUrl;\n}\n\n\n/**\n * The maximum allowed image size in total pixels e.g. width * height. Images\n * above this value will not be drawn. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxImageSize = (PDFJS.maxImageSize === undefined ?\n                      -1 : PDFJS.maxImageSize);\n\n/**\n * The url of where the predefined Adobe CMaps are located. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.cMapUrl = (PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl);\n\n/**\n * Specifies if CMaps are binary packed.\n * @var {boolean}\n */\nPDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n\n/*\n * By default fonts are converted to OpenType fonts and loaded via font face\n * rules. If disabled, the font will be rendered using a built in font renderer\n * that constructs the glyphs with primitive path commands.\n * @var {boolean}\n */\nPDFJS.disableFontFace = (PDFJS.disableFontFace === undefined ?\n                         false : PDFJS.disableFontFace);\n\n/**\n * Path for image resources, mainly for annotation icons. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.imageResourcesPath = (PDFJS.imageResourcesPath === undefined ?\n                            '' : PDFJS.imageResourcesPath);\n\n/**\n * Disable the web worker and run all code on the main thread. This will happen\n * automatically if the browser doesn't support workers or sending typed arrays\n * to workers.\n * @var {boolean}\n */\nPDFJS.disableWorker = (PDFJS.disableWorker === undefined ?\n                       false : PDFJS.disableWorker);\n\n/**\n * Path and filename of the worker file. Required when the worker is enabled in\n * development mode. If unspecified in the production build, the worker will be\n * loaded based on the location of the pdf.js file.\n * @var {string}\n */\nPDFJS.workerSrc = (PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc);\n\n/**\n * Disable range request loading of PDF files. When enabled and if the server\n * supports partial content requests then the PDF will be fetched in chunks.\n * Enabled (false) by default.\n * @var {boolean}\n */\nPDFJS.disableRange = (PDFJS.disableRange === undefined ?\n                      false : PDFJS.disableRange);\n\n/**\n * Disable streaming of PDF file data. By default PDF.js attempts to load PDF\n * in chunks. This default behavior can be disabled.\n * @var {boolean}\n */\nPDFJS.disableStream = (PDFJS.disableStream === undefined ?\n                       false : PDFJS.disableStream);\n\n/**\n * Disable pre-fetching of PDF file data. When range requests are enabled PDF.js\n * will automatically keep fetching more data even if it isn't needed to display\n * the current page. This default behavior can be disabled.\n * @var {boolean}\n */\nPDFJS.disableAutoFetch = (PDFJS.disableAutoFetch === undefined ?\n                          false : PDFJS.disableAutoFetch);\n\n/**\n * Enables special hooks for debugging PDF.js.\n * @var {boolean}\n */\nPDFJS.pdfBug = (PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug);\n\n/**\n * Enables transfer usage in postMessage for ArrayBuffers.\n * @var {boolean}\n */\nPDFJS.postMessageTransfers = (PDFJS.postMessageTransfers === undefined ?\n                              true : PDFJS.postMessageTransfers);\n\n/**\n * Disables URL.createObjectURL usage.\n * @var {boolean}\n */\nPDFJS.disableCreateObjectURL = (PDFJS.disableCreateObjectURL === undefined ?\n                                false : PDFJS.disableCreateObjectURL);\n\n/**\n * Disables WebGL usage.\n * @var {boolean}\n */\nPDFJS.disableWebGL = (PDFJS.disableWebGL === undefined ?\n                      true : PDFJS.disableWebGL);\n\n/**\n * Enables CSS only zooming.\n * @var {boolean}\n */\nPDFJS.useOnlyCssZoom = (PDFJS.useOnlyCssZoom === undefined ?\n                        false : PDFJS.useOnlyCssZoom);\n\n/**\n * Controls the logging level.\n * The constants from PDFJS.VERBOSITY_LEVELS should be used:\n * - errors\n * - warnings [default]\n * - infos\n * @var {number}\n */\nPDFJS.verbosity = (PDFJS.verbosity === undefined ?\n                   PDFJS.VERBOSITY_LEVELS.warnings : PDFJS.verbosity);\n\n/**\n * The maximum supported canvas size in total pixels e.g. width * height. \n * The default value is 4096 * 4096. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxCanvasPixels = (PDFJS.maxCanvasPixels === undefined ?\n                         16777216 : PDFJS.maxCanvasPixels);\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string}     url   - The URL of the PDF.\n * @property {TypedArray} data  - A typed array with PDF data.\n * @property {Object}     httpHeaders - Basic authentication headers.\n * @property {boolean}    withCredentials - Indicates whether or not cross-site\n *   Access-Control requests should be made using credentials such as cookies\n *   or authorization headers. The default is false.\n * @property {string}     password - For decrypting password-protected PDFs.\n * @property {TypedArray} initialData - A typed array with the first portion or\n *   all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Array} streamTypes - Used stream types in the document (an item\n *   is set to true if specific stream ID was used in the document).\n * @property {Array} fontTypes - Used font type in the document (an item is set\n *   to true if specific font ID was used in the document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n * NOTE: If a URL is used to fetch the PDF data a standard XMLHttpRequest(XHR)\n * is used, which means it must follow the same origin rules that any XHR does\n * e.g. No cross domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters} source Can be a url to\n * where a PDF is located, a typed array (Uint8Array) already populated with\n * data or parameter object.\n *\n * @param {Object} pdfDataRangeTransport is optional. It is used if you want\n * to manually serve range requests for data in the PDF. See viewer.js for\n * an example of pdfDataRangeTransport's interface.\n *\n * @param {function} passwordCallback is optional. It is used to request a\n * password if wrong or no password was provided. The callback receives two\n * parameters: function that needs to be called with new password and reason\n * (see {PasswordResponses}).\n *\n * @param {function} progressCallback is optional. It is used to be able to\n * monitor the loading progress of the PDF file (necessary to implement e.g.\n * a loading bar). The callback receives an {Object} with the properties:\n * {number} loaded and {number} total.\n *\n * @return {Promise} A promise that is resolved with {@link PDFDocumentProxy}\n *   object.\n */\nPDFJS.getDocument = function getDocument(source,\n                                         pdfDataRangeTransport,\n                                         passwordCallback,\n                                         progressCallback) {\n  var workerInitializedCapability, workerReadyCapability, transport;\n\n  if (typeof source === 'string') {\n    source = { url: source };\n  } else if (isArrayBuffer(source)) {\n    source = { data: source };\n  } else if (typeof source !== 'object') {\n    error('Invalid parameter in getDocument, need either Uint8Array, ' +\n          'string or a parameter object');\n  }\n\n  if (!source.url && !source.data) {\n    error('Invalid parameter array, need either .data or .url');\n  }\n\n  // copy/use all keys as is except 'url' -- full path is required\n  var params = {};\n  for (var key in source) {\n    if (key === 'url' && typeof window !== 'undefined') {\n      params[key] = combineUrl(window.location.href, source[key]);\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  workerInitializedCapability = createPromiseCapability();\n  workerReadyCapability = createPromiseCapability();\n  transport = new WorkerTransport(workerInitializedCapability,\n                                  workerReadyCapability, pdfDataRangeTransport,\n                                  progressCallback);\n  workerInitializedCapability.promise.then(function transportInitialized() {\n    transport.passwordCallback = passwordCallback;\n    transport.fetchDocument(params);\n  });\n  return workerReadyCapability.promise;\n};\n\n/**\n * Proxy to a PDFDocument in the worker thread. Also, contains commonly used\n * properties that can be read synchronously.\n * @class\n */\nvar PDFDocumentProxy = (function PDFDocumentProxyClosure() {\n  function PDFDocumentProxy(pdfInfo, transport) {\n    this.pdfInfo = pdfInfo;\n    this.transport = transport;\n  }\n  PDFDocumentProxy.prototype = /** @lends PDFDocumentProxy.prototype */ {\n    /**\n     * @return {number} Total number of pages the PDF contains.\n     */\n    get numPages() {\n      return this.pdfInfo.numPages;\n    },\n    /**\n     * @return {string} A unique ID to identify a PDF. Not guaranteed to be\n     * unique.\n     */\n    get fingerprint() {\n      return this.pdfInfo.fingerprint;\n    },\n    /**\n     * @param {number} pageNumber The page number to get. The first page is 1.\n     * @return {Promise} A promise that is resolved with a {@link PDFPageProxy}\n     * object.\n     */\n    getPage: function PDFDocumentProxy_getPage(pageNumber) {\n      return this.transport.getPage(pageNumber);\n    },\n    /**\n     * @param {{num: number, gen: number}} ref The page reference. Must have\n     *   the 'num' and 'gen' properties.\n     * @return {Promise} A promise that is resolved with the page index that is\n     * associated with the reference.\n     */\n    getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n      return this.transport.getPageIndex(ref);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named destinations to reference numbers.\n     *\n     * This can be slow for large documents: use getDestination instead\n     */\n    getDestinations: function PDFDocumentProxy_getDestinations() {\n      return this.transport.getDestinations();\n    },\n    /**\n     * @param {string} id The named destination to get.\n     * @return {Promise} A promise that is resolved with all information\n     * of the given named destination.\n     */\n    getDestination: function PDFDocumentProxy_getDestination(id) {\n      return this.transport.getDestination(id);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named attachments to their content.\n     */\n    getAttachments: function PDFDocumentProxy_getAttachments() {\n      return this.transport.getAttachments();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an array of all the\n     * JavaScript strings in the name tree.\n     */\n    getJavaScript: function PDFDocumentProxy_getJavaScript() {\n      return this.transport.getJavaScript();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} that is a\n     * tree outline (if it has one) of the PDF. The tree is in the format of:\n     * [\n     *  {\n     *   title: string,\n     *   bold: boolean,\n     *   italic: boolean,\n     *   color: rgb array,\n     *   dest: dest obj,\n     *   items: array of more items like this\n     *  },\n     *  ...\n     * ].\n     */\n    getOutline: function PDFDocumentProxy_getOutline() {\n      return this.transport.getOutline();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Object} that has\n     * info and metadata properties.  Info is an {Object} filled with anything\n     * available in the information dictionary and similarly metadata is a\n     * {Metadata} object with information from the metadata section of the PDF.\n     */\n    getMetadata: function PDFDocumentProxy_getMetadata() {\n      return this.transport.getMetadata();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a TypedArray that has\n     * the raw data from the PDF.\n     */\n    getData: function PDFDocumentProxy_getData() {\n      return this.transport.getData();\n    },\n    /**\n     * @return {Promise} A promise that is resolved when the document's data\n     * is loaded. It is resolved with an {Object} that contains the length\n     * property that indicates size of the PDF data in bytes.\n     */\n    getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n      return this.transport.downloadInfoCapability.promise;\n    },\n    /**\n     * @returns {Promise} A promise this is resolved with current stats about\n     * document structures (see {@link PDFDocumentStats}).\n     */\n    getStats: function PDFDocumentProxy_getStats() {\n      return this.transport.getStats();\n    },\n    /**\n     * Cleans up resources allocated by the document, e.g. created @font-face.\n     */\n    cleanup: function PDFDocumentProxy_cleanup() {\n      this.transport.startCleanup();\n    },\n    /**\n     * Destroys current document instance and terminates worker.\n     */\n    destroy: function PDFDocumentProxy_destroy() {\n      this.transport.destroy();\n    }\n  };\n  return PDFDocumentProxy;\n})();\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {array} items - array of {@link TextItem}\n * @property {Object} styles - {@link TextStyles} objects, indexed by font\n *                    name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - text content.\n * @property {string} dir - text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {array} transform - transformation matrix.\n * @property {number} width - width in device space.\n * @property {number} height - height in device space.\n * @property {string} fontName - font name used by pdf.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - font ascent.\n * @property {number} descent - font descent.\n * @property {boolean} vertical - text is in vertical mode.\n * @property {string} fontFamily - possible font family\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PDFJS.PageViewport} viewport - Rendering viewport obtained by\n *                                calling of PDFPage.getViewport method.\n * @property {string} intent - Rendering intent, can be 'display' or 'print'\n *                    (default value is 'display').\n * @property {Object} imageLayer - (optional) An object that has beginLayout,\n *                    endLayout and appendImage functions.\n * @property {function} continueCallback - (optional) A function that will be\n *                      called each time the rendering is paused.  To continue\n *                      rendering call the function that is the first argument\n *                      to the callback.\n */\n \n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array} fnArray - Array containing the operator functions.\n * @property {Array} argsArray - Array containing the arguments of the\n *                               functions.\n */\n\n/**\n * Proxy to a PDFPage in the worker thread.\n * @class\n */\nvar PDFPageProxy = (function PDFPageProxyClosure() {\n  function PDFPageProxy(pageIndex, pageInfo, transport) {\n    this.pageIndex = pageIndex;\n    this.pageInfo = pageInfo;\n    this.transport = transport;\n    this.stats = new StatTimer();\n    this.stats.enabled = !!globalScope.PDFJS.enableStats;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this.cleanupAfterRender = false;\n    this.pendingDestroy = false;\n    this.intentStates = {};\n  }\n  PDFPageProxy.prototype = /** @lends PDFPageProxy.prototype */ {\n    /**\n     * @return {number} Page number of the page. First page is 1.\n     */\n    get pageNumber() {\n      return this.pageIndex + 1;\n    },\n    /**\n     * @return {number} The number of degrees the page is rotated clockwise.\n     */\n    get rotate() {\n      return this.pageInfo.rotate;\n    },\n    /**\n     * @return {Object} The reference that points to this page. It has 'num' and\n     * 'gen' properties.\n     */\n    get ref() {\n      return this.pageInfo.ref;\n    },\n    /**\n     * @return {Array} An array of the visible portion of the PDF page in the\n     * user space units - [x1, y1, x2, y2].\n     */\n    get view() {\n      return this.pageInfo.view;\n    },\n    /**\n     * @param {number} scale The desired scale of the viewport.\n     * @param {number} rotate Degrees to rotate the viewport. If omitted this\n     * defaults to the page rotation.\n     * @return {PDFJS.PageViewport} Contains 'width' and 'height' properties\n     * along with transforms required for rendering.\n     */\n    getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n      if (arguments.length < 2) {\n        rotate = this.rotate;\n      }\n      return new PDFJS.PageViewport(this.view, scale, rotate, 0, 0);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} of the\n     * annotation objects.\n     */\n    getAnnotations: function PDFPageProxy_getAnnotations() {\n      if (this.annotationsPromise) {\n        return this.annotationsPromise;\n      }\n\n      var promise = this.transport.getAnnotations(this.pageIndex);\n      this.annotationsPromise = promise;\n      return promise;\n    },\n    /**\n     * Begins the process of rendering a page to the desired context.\n     * @param {RenderParameters} params Page render parameters.\n     * @return {RenderTask} An object that contains the promise, which\n     *                      is resolved when the page finishes rendering.\n     */\n    render: function PDFPageProxy_render(params) {\n      var stats = this.stats;\n      stats.time('Overall');\n\n      // If there was a pending destroy cancel it so no cleanup happens during\n      // this call to render.\n      this.pendingDestroy = false;\n\n      var renderingIntent = (params.intent === 'print' ? 'print' : 'display');\n\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = {};\n      }\n      var intentState = this.intentStates[renderingIntent];\n\n      // If there's no displayReadyCapability yet, then the operatorList\n      // was never requested before. Make the request and create the promise.\n      if (!intentState.displayReadyCapability) {\n        intentState.receivingOperatorList = true;\n        intentState.displayReadyCapability = createPromiseCapability();\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false\n        };\n\n        this.stats.time('Page Request');\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageNumber - 1,\n          intent: renderingIntent\n        });\n      }\n\n      var internalRenderTask = new InternalRenderTask(complete, params,\n                                                      this.objs,\n                                                      this.commonObjs,\n                                                      intentState.operatorList,\n                                                      this.pageNumber);\n      if (!intentState.renderTasks) {\n        intentState.renderTasks = [];\n      }\n      intentState.renderTasks.push(internalRenderTask);\n      var renderTask = new RenderTask(internalRenderTask);\n\n      var self = this;\n      intentState.displayReadyCapability.promise.then(\n        function pageDisplayReadyPromise(transparency) {\n          if (self.pendingDestroy) {\n            complete();\n            return;\n          }\n          stats.time('Rendering');\n          internalRenderTask.initalizeGraphics(transparency);\n          internalRenderTask.operatorListChanged();\n        },\n        function pageDisplayReadPromiseError(reason) {\n          complete(reason);\n        }\n      );\n\n      function complete(error) {\n        var i = intentState.renderTasks.indexOf(internalRenderTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n\n        if (self.cleanupAfterRender) {\n          self.pendingDestroy = true;\n        }\n        self._tryDestroy();\n\n        if (error) {\n          internalRenderTask.capability.reject(error);\n        } else {\n          internalRenderTask.capability.resolve();\n        }\n        stats.timeEnd('Rendering');\n        stats.timeEnd('Overall');\n      }\n\n      return renderTask;\n    },\n\n    /**\n     * @return {Promise} A promise resolved with an {@link PDFOperatorList}\n     * object that represents page's operator list.\n     */\n    getOperatorList: function PDFPageProxy_getOperatorList() {\n      function operatorListChanged() {\n        if (intentState.operatorList.lastChunk) {\n          intentState.opListReadCapability.resolve(intentState.operatorList);\n        }\n      }\n\n      var renderingIntent = 'oplist';\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = {};\n      }\n      var intentState = this.intentStates[renderingIntent];\n\n      if (!intentState.opListReadCapability) {\n        var opListTask = {};\n        opListTask.operatorListChanged = operatorListChanged;\n        intentState.receivingOperatorList = true;\n        intentState.opListReadCapability = createPromiseCapability();\n        intentState.renderTasks = [];\n        intentState.renderTasks.push(opListTask);\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false\n        };\n\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageIndex,\n          intent: renderingIntent\n        });\n      }\n      return intentState.opListReadCapability.promise;\n    },\n\n    /**\n     * @return {Promise} That is resolved a {@link TextContent}\n     * object that represent the page text content.\n     */\n    getTextContent: function PDFPageProxy_getTextContent() {\n      return this.transport.messageHandler.sendWithPromise('GetTextContent', {\n        pageIndex: this.pageNumber - 1\n      });\n    },\n    /**\n     * Destroys resources allocated by the page.\n     */\n    destroy: function PDFPageProxy_destroy() {\n      this.pendingDestroy = true;\n      this._tryDestroy();\n    },\n    /**\n     * For internal use only. Attempts to clean up if rendering is in a state\n     * where that's possible.\n     * @ignore\n     */\n    _tryDestroy: function PDFPageProxy__destroy() {\n      if (!this.pendingDestroy ||\n          Object.keys(this.intentStates).some(function(intent) {\n            var intentState = this.intentStates[intent];\n            return (intentState.renderTasks.length !== 0 ||\n                    intentState.receivingOperatorList);\n          }, this)) {\n        return;\n      }\n\n      Object.keys(this.intentStates).forEach(function(intent) {\n        delete this.intentStates[intent];\n      }, this);\n      this.objs.clear();\n      this.annotationsPromise = null;\n      this.pendingDestroy = false;\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _startRenderPage: function PDFPageProxy_startRenderPage(transparency,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      // TODO Refactor RenderPageRequest to separate rendering\n      // and operator list logic\n      if (intentState.displayReadyCapability) {\n        intentState.displayReadyCapability.resolve(transparency);\n      }\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      var i, ii;\n      // Add the new chunk to the current operator list.\n      for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n        intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n        intentState.operatorList.argsArray.push(\n          operatorListChunk.argsArray[i]);\n      }\n      intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n      // Notify all the rendering tasks there are more operators to be consumed.\n      for (i = 0; i < intentState.renderTasks.length; i++) {\n        intentState.renderTasks[i].operatorListChanged();\n      }\n\n      if (operatorListChunk.lastChunk) {\n        intentState.receivingOperatorList = false;\n        this._tryDestroy();\n      }\n    }\n  };\n  return PDFPageProxy;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar WorkerTransport = (function WorkerTransportClosure() {\n  function WorkerTransport(workerInitializedCapability, workerReadyCapability,\n                           pdfDataRangeTransport, progressCallback) {\n    this.pdfDataRangeTransport = pdfDataRangeTransport;\n\n    this.workerInitializedCapability = workerInitializedCapability;\n    this.workerReadyCapability = workerReadyCapability;\n    this.progressCallback = progressCallback;\n    this.commonObjs = new PDFObjects();\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n    this.passwordCallback = null;\n\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fullfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an Uint8Array\n    // as it arrives on the worker. Chrome added this with version 15.\n    if (!globalScope.PDFJS.disableWorker && typeof Worker !== 'undefined') {\n      var workerSrc = PDFJS.workerSrc;\n      if (!workerSrc) {\n        error('No PDFJS.workerSrc specified');\n      }\n\n      try {\n        // Some versions of FF can't create a worker on localhost, see:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n        var worker = new Worker(workerSrc);\n        var messageHandler = new MessageHandler('main', worker);\n        this.messageHandler = messageHandler;\n\n        messageHandler.on('test', function transportTest(data) {\n          var supportTypedArray = data && data.supportTypedArray;\n          if (supportTypedArray) {\n            this.worker = worker;\n            if (!data.supportTransfers) {\n              PDFJS.postMessageTransfers = false;\n            }\n            this.setupMessageHandler(messageHandler);\n            workerInitializedCapability.resolve();\n          } else {\n            this.setupFakeWorker();\n          }\n        }.bind(this));\n\n        var testObj = new Uint8Array([PDFJS.postMessageTransfers ? 255 : 0]);\n        // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n        // typed array. Also, checking if we can use transfers.\n        try {\n          messageHandler.send('test', testObj, [testObj.buffer]);\n        } catch (ex) {\n          info('Cannot use postMessage transfers');\n          testObj[0] = 0;\n          messageHandler.send('test', testObj);\n        }\n        return;\n      } catch (e) {\n        info('The worker has been disabled.');\n      }\n    }\n    // Either workers are disabled, not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this.setupFakeWorker();\n  }\n  WorkerTransport.prototype = {\n    destroy: function WorkerTransport_destroy() {\n      this.pageCache = [];\n      this.pagePromises = [];\n      var self = this;\n      this.messageHandler.sendWithPromise('Terminate', null).then(function () {\n        FontLoader.clear();\n        if (self.worker) {\n          self.worker.terminate();\n        }\n      });\n    },\n\n    setupFakeWorker: function WorkerTransport_setupFakeWorker() {\n      globalScope.PDFJS.disableWorker = true;\n\n      if (!PDFJS.fakeWorkerFilesLoadedCapability) {\n        PDFJS.fakeWorkerFilesLoadedCapability = createPromiseCapability();\n        // In the developer build load worker_loader which in turn loads all the\n        // other files and resolves the promise. In production only the\n        // pdf.worker.js file is needed.\n        Util.loadScript(PDFJS.workerSrc, function() {\n          PDFJS.fakeWorkerFilesLoadedCapability.resolve();\n        });\n      }\n      PDFJS.fakeWorkerFilesLoadedCapability.promise.then(function () {\n        warn('Setting up fake worker.');\n        // If we don't use a worker, just post/sendMessage to the main thread.\n        var fakeWorker = {\n          postMessage: function WorkerTransport_postMessage(obj) {\n            fakeWorker.onmessage({data: obj});\n          },\n          terminate: function WorkerTransport_terminate() {}\n        };\n\n        var messageHandler = new MessageHandler('main', fakeWorker);\n        this.setupMessageHandler(messageHandler);\n\n        // If the main thread is our worker, setup the handling for the messages\n        // the main thread sends to it self.\n        PDFJS.WorkerMessageHandler.setup(messageHandler);\n\n        this.workerInitializedCapability.resolve();\n      }.bind(this));\n    },\n\n    setupMessageHandler:\n      function WorkerTransport_setupMessageHandler(messageHandler) {\n      this.messageHandler = messageHandler;\n\n      function updatePassword(password) {\n        messageHandler.send('UpdatePassword', password);\n      }\n\n      var pdfDataRangeTransport = this.pdfDataRangeTransport;\n      if (pdfDataRangeTransport) {\n        pdfDataRangeTransport.addRangeListener(function(begin, chunk) {\n          messageHandler.send('OnDataRange', {\n            begin: begin,\n            chunk: chunk\n          });\n        });\n\n        pdfDataRangeTransport.addProgressListener(function(loaded) {\n          messageHandler.send('OnDataProgress', {\n            loaded: loaded\n          });\n        });\n\n        pdfDataRangeTransport.addProgressiveReadListener(function(chunk) {\n          messageHandler.send('OnDataRange', {\n            chunk: chunk\n          });\n        });\n\n        messageHandler.on('RequestDataRange',\n          function transportDataRange(data) {\n            pdfDataRangeTransport.requestDataRange(data.begin, data.end);\n          }, this);\n      }\n\n      messageHandler.on('GetDoc', function transportDoc(data) {\n        var pdfInfo = data.pdfInfo;\n        this.numPages = data.pdfInfo.numPages;\n        var pdfDocument = new PDFDocumentProxy(pdfInfo, this);\n        this.pdfDocument = pdfDocument;\n        this.workerReadyCapability.resolve(pdfDocument);\n      }, this);\n\n      messageHandler.on('NeedPassword',\n                        function transportNeedPassword(exception) {\n        if (this.passwordCallback) {\n          return this.passwordCallback(updatePassword,\n                                       PasswordResponses.NEED_PASSWORD);\n        }\n        this.workerReadyCapability.reject(\n          new PasswordException(exception.message, exception.code));\n      }, this);\n\n      messageHandler.on('IncorrectPassword',\n                        function transportIncorrectPassword(exception) {\n        if (this.passwordCallback) {\n          return this.passwordCallback(updatePassword,\n                                       PasswordResponses.INCORRECT_PASSWORD);\n        }\n        this.workerReadyCapability.reject(\n          new PasswordException(exception.message, exception.code));\n      }, this);\n\n      messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n        this.workerReadyCapability.reject(\n          new InvalidPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n        this.workerReadyCapability.reject(\n          new MissingPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('UnexpectedResponse',\n                        function transportUnexpectedResponse(exception) {\n        this.workerReadyCapability.reject(\n          new UnexpectedResponseException(exception.message, exception.status));\n      }, this);\n\n      messageHandler.on('UnknownError',\n                        function transportUnknownError(exception) {\n        this.workerReadyCapability.reject(\n          new UnknownErrorException(exception.message, exception.details));\n      }, this);\n\n      messageHandler.on('DataLoaded', function transportPage(data) {\n        this.downloadInfoCapability.resolve(data);\n      }, this);\n\n      messageHandler.on('PDFManagerReady', function transportPage(data) {\n        if (this.pdfDataRangeTransport) {\n          this.pdfDataRangeTransport.transportReady();\n        }\n      }, this);\n\n      messageHandler.on('StartRenderPage', function transportRender(data) {\n        var page = this.pageCache[data.pageIndex];\n\n        page.stats.timeEnd('Page Request');\n        page._startRenderPage(data.transparency, data.intent);\n      }, this);\n\n      messageHandler.on('RenderPageChunk', function transportRender(data) {\n        var page = this.pageCache[data.pageIndex];\n\n        page._renderPageChunk(data.operatorList, data.intent);\n      }, this);\n\n      messageHandler.on('commonobj', function transportObj(data) {\n        var id = data[0];\n        var type = data[1];\n        if (this.commonObjs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'Font':\n            var exportedData = data[2];\n\n            var font;\n            if ('error' in exportedData) {\n              var error = exportedData.error;\n              warn('Error during font loading: ' + error);\n              this.commonObjs.resolve(id, error);\n              break;\n            } else {\n              font = new FontFaceObject(exportedData);\n            }\n\n            FontLoader.bind(\n              [font],\n              function fontReady(fontObjs) {\n                this.commonObjs.resolve(id, font);\n              }.bind(this)\n            );\n            break;\n          case 'FontPath':\n            this.commonObjs.resolve(id, data[2]);\n            break;\n          default:\n            error('Got unknown common object type ' + type);\n        }\n      }, this);\n\n      messageHandler.on('obj', function transportObj(data) {\n        var id = data[0];\n        var pageIndex = data[1];\n        var type = data[2];\n        var pageProxy = this.pageCache[pageIndex];\n        var imageData;\n        if (pageProxy.objs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'JpegStream':\n            imageData = data[3];\n            loadJpegStream(id, imageData, pageProxy.objs);\n            break;\n          case 'Image':\n            imageData = data[3];\n            pageProxy.objs.resolve(id, imageData);\n\n            // heuristics that will allow not to store large data\n            var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n            if (imageData && 'data' in imageData &&\n                imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n              pageProxy.cleanupAfterRender = true;\n            }\n            break;\n          default:\n            error('Got unknown object type ' + type);\n        }\n      }, this);\n\n      messageHandler.on('DocProgress', function transportDocProgress(data) {\n        if (this.progressCallback) {\n          this.progressCallback({\n            loaded: data.loaded,\n            total: data.total\n          });\n        }\n      }, this);\n\n      messageHandler.on('PageError', function transportError(data) {\n        var page = this.pageCache[data.pageNum - 1];\n        var intentState = page.intentStates[data.intent];\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(data.error);\n        } else {\n          error(data.error);\n        }\n      }, this);\n\n      messageHandler.on('JpegDecode', function(data) {\n        var imageUrl = data[0];\n        var components = data[1];\n        if (components !== 3 && components !== 1) {\n          return Promise.reject(\n            new Error('Only 3 components or 1 component can be returned'));\n        }\n\n        return new Promise(function (resolve, reject) {\n          var img = new Image();\n          img.onload = function () {\n            var width = img.width;\n            var height = img.height;\n            var size = width * height;\n            var rgbaLength = size * 4;\n            var buf = new Uint8Array(size * components);\n            var tmpCanvas = createScratchCanvas(width, height);\n            var tmpCtx = tmpCanvas.getContext('2d');\n            tmpCtx.drawImage(img, 0, 0);\n            var data = tmpCtx.getImageData(0, 0, width, height).data;\n            var i, j;\n\n            if (components === 3) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                buf[j] = data[i];\n                buf[j + 1] = data[i + 1];\n                buf[j + 2] = data[i + 2];\n              }\n            } else if (components === 1) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                buf[j] = data[i];\n              }\n            }\n            resolve({ data: buf, width: width, height: height});\n          };\n          img.onerror = function () {\n            reject(new Error('JpegDecode failed to load image'));\n          };\n          img.src = imageUrl;\n        });\n      });\n    },\n\n    fetchDocument: function WorkerTransport_fetchDocument(source) {\n      source.disableAutoFetch = PDFJS.disableAutoFetch;\n      source.disableStream = PDFJS.disableStream;\n      source.chunkedViewerLoading = !!this.pdfDataRangeTransport;\n      this.messageHandler.send('GetDocRequest', {\n        source: source,\n        disableRange: PDFJS.disableRange,\n        maxImageSize: PDFJS.maxImageSize,\n        cMapUrl: PDFJS.cMapUrl,\n        cMapPacked: PDFJS.cMapPacked,\n        disableFontFace: PDFJS.disableFontFace,\n        disableCreateObjectURL: PDFJS.disableCreateObjectURL,\n        verbosity: PDFJS.verbosity\n      });\n    },\n\n    getData: function WorkerTransport_getData() {\n      return this.messageHandler.sendWithPromise('GetData', null);\n    },\n\n    getPage: function WorkerTransport_getPage(pageNumber, capability) {\n      if (pageNumber <= 0 || pageNumber > this.numPages ||\n          (pageNumber|0) !== pageNumber) {\n        return Promise.reject(new Error('Invalid page request'));\n      }\n\n      var pageIndex = pageNumber - 1;\n      if (pageIndex in this.pagePromises) {\n        return this.pagePromises[pageIndex];\n      }\n      var promise = this.messageHandler.sendWithPromise('GetPage', {\n        pageIndex: pageIndex\n      }).then(function (pageInfo) {\n        var page = new PDFPageProxy(pageIndex, pageInfo, this);\n        this.pageCache[pageIndex] = page;\n        return page;\n      }.bind(this));\n      this.pagePromises[pageIndex] = promise;\n      return promise;\n    },\n\n    getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n      return this.messageHandler.sendWithPromise('GetPageIndex', { ref: ref });\n    },\n\n    getAnnotations: function WorkerTransport_getAnnotations(pageIndex) {\n      return this.messageHandler.sendWithPromise('GetAnnotations',\n        { pageIndex: pageIndex });\n    },\n\n    getDestinations: function WorkerTransport_getDestinations() {\n      return this.messageHandler.sendWithPromise('GetDestinations', null);\n    },\n\n    getDestination: function WorkerTransport_getDestination(id) {\n      return this.messageHandler.sendWithPromise('GetDestination', { id: id } );\n    },\n\n    getAttachments: function WorkerTransport_getAttachments() {\n      return this.messageHandler.sendWithPromise('GetAttachments', null);\n    },\n\n    getJavaScript: function WorkerTransport_getJavaScript() {\n      return this.messageHandler.sendWithPromise('GetJavaScript', null);\n    },\n\n    getOutline: function WorkerTransport_getOutline() {\n      return this.messageHandler.sendWithPromise('GetOutline', null);\n    },\n\n    getMetadata: function WorkerTransport_getMetadata() {\n      return this.messageHandler.sendWithPromise('GetMetadata', null).\n        then(function transportMetadata(results) {\n        return {\n          info: results[0],\n          metadata: (results[1] ? new PDFJS.Metadata(results[1]) : null)\n        };\n      });\n    },\n\n    getStats: function WorkerTransport_getStats() {\n      return this.messageHandler.sendWithPromise('GetStats', null);\n    },\n\n    startCleanup: function WorkerTransport_startCleanup() {\n      this.messageHandler.sendWithPromise('Cleanup', null).\n        then(function endCleanup() {\n        for (var i = 0, ii = this.pageCache.length; i < ii; i++) {\n          var page = this.pageCache[i];\n          if (page) {\n            page.destroy();\n          }\n        }\n        this.commonObjs.clear();\n        FontLoader.clear();\n      }.bind(this));\n    }\n  };\n  return WorkerTransport;\n\n})();\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects\n * for fonts, images, rendering code and such. These objects might get processed\n * inside of a worker. The `PDFObjects` implements some basic functions to\n * manage these objects.\n * @ignore\n */\nvar PDFObjects = (function PDFObjectsClosure() {\n  function PDFObjects() {\n    this.objs = {};\n  }\n\n  PDFObjects.prototype = {\n    /**\n     * Internal function.\n     * Ensures there is an object defined for `objId`.\n     */\n    ensureObj: function PDFObjects_ensureObj(objId) {\n      if (this.objs[objId]) {\n        return this.objs[objId];\n      }\n\n      var obj = {\n        capability: createPromiseCapability(),\n        data: null,\n        resolved: false\n      };\n      this.objs[objId] = obj;\n\n      return obj;\n    },\n\n    /**\n     * If called *without* callback, this returns the data of `objId` but the\n     * object needs to be resolved. If it isn't, this function throws.\n     *\n     * If called *with* a callback, the callback is called with the data of the\n     * object once the object is resolved. That means, if you call this\n     * function and the object is already resolved, the callback gets called\n     * right away.\n     */\n    get: function PDFObjects_get(objId, callback) {\n      // If there is a callback, then the get can be async and the object is\n      // not required to be resolved right now\n      if (callback) {\n        this.ensureObj(objId).capability.promise.then(callback);\n        return null;\n      }\n\n      // If there isn't a callback, the user expects to get the resolved data\n      // directly.\n      var obj = this.objs[objId];\n\n      // If there isn't an object yet or the object isn't resolved, then the\n      // data isn't ready yet!\n      if (!obj || !obj.resolved) {\n        error('Requesting object that isn\\'t resolved yet ' + objId);\n      }\n\n      return obj.data;\n    },\n\n    /**\n     * Resolves the object `objId` with optional `data`.\n     */\n    resolve: function PDFObjects_resolve(objId, data) {\n      var obj = this.ensureObj(objId);\n\n      obj.resolved = true;\n      obj.data = data;\n      obj.capability.resolve(data);\n    },\n\n    isResolved: function PDFObjects_isResolved(objId) {\n      var objs = this.objs;\n\n      if (!objs[objId]) {\n        return false;\n      } else {\n        return objs[objId].resolved;\n      }\n    },\n\n    hasData: function PDFObjects_hasData(objId) {\n      return this.isResolved(objId);\n    },\n\n    /**\n     * Returns the data of `objId` if object exists, null otherwise.\n     */\n    getData: function PDFObjects_getData(objId) {\n      var objs = this.objs;\n      if (!objs[objId] || !objs[objId].resolved) {\n        return null;\n      } else {\n        return objs[objId].data;\n      }\n    },\n\n    clear: function PDFObjects_clear() {\n      this.objs = {};\n    }\n  };\n  return PDFObjects;\n})();\n\n/**\n * Allows controlling of the rendering tasks.\n * @class\n */\nvar RenderTask = (function RenderTaskClosure() {\n  function RenderTask(internalRenderTask) {\n    this.internalRenderTask = internalRenderTask;\n    /**\n     * Promise for rendering task completion.\n     * @type {Promise}\n     */\n    this.promise = this.internalRenderTask.capability.promise;\n  }\n\n  RenderTask.prototype = /** @lends RenderTask.prototype */ {\n    /**\n     * Cancels the rendering task. If the task is currently rendering it will\n     * not be cancelled until graphics pauses with a timeout. The promise that\n     * this object extends will resolved when cancelled.\n     */\n    cancel: function RenderTask_cancel() {\n      this.internalRenderTask.cancel();\n    },\n\n    /**\n     * Registers callback to indicate the rendering task completion.\n     *\n     * @param {function} onFulfilled The callback for the rendering completion.\n     * @param {function} onRejected The callback for the rendering failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function RenderTask_then(onFulfilled, onRejected) {\n      return this.promise.then(onFulfilled, onRejected);\n    }\n  };\n\n  return RenderTask;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar InternalRenderTask = (function InternalRenderTaskClosure() {\n\n  function InternalRenderTask(callback, params, objs, commonObjs, operatorList,\n                              pageNumber) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this.pageNumber = pageNumber;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this.cancelled = false;\n    this.capability = createPromiseCapability();\n    // caching this-bound methods\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n  }\n\n  InternalRenderTask.prototype = {\n\n    initalizeGraphics:\n        function InternalRenderTask_initalizeGraphics(transparency) {\n\n      if (this.cancelled) {\n        return;\n      }\n      if (PDFJS.pdfBug && 'StepperManager' in globalScope &&\n          globalScope.StepperManager.enabled) {\n        this.stepper = globalScope.StepperManager.create(this.pageNumber - 1);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n\n      var params = this.params;\n      this.gfx = new CanvasGraphics(params.canvasContext, this.commonObjs,\n                                    this.objs, params.imageLayer);\n\n      this.gfx.beginDrawing(params.viewport, transparency);\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    },\n\n    cancel: function InternalRenderTask_cancel() {\n      this.running = false;\n      this.cancelled = true;\n      this.callback('cancelled');\n    },\n\n    operatorListChanged: function InternalRenderTask_operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    },\n\n    _continue: function InternalRenderTask__continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.params.continueCallback) {\n        this.params.continueCallback(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    },\n\n    _scheduleNext: function InternalRenderTask__scheduleNext() {\n      window.requestAnimationFrame(this._nextBound);\n    },\n\n    _next: function InternalRenderTask__next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList,\n                                        this.operatorListIdx,\n                                        this._continueBound,\n                                        this.stepper);\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          this.callback();\n        }\n      }\n    }\n\n  };\n\n  return InternalRenderTask;\n})();\n\n\nvar Metadata = PDFJS.Metadata = (function MetadataClosure() {\n  function fixMetadata(meta) {\n    return meta.replace(/>\\\\376\\\\377([^<]+)/g, function(all, codes) {\n      var bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g,\n                                function(code, d1, d2, d3) {\n        return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n      });\n      var chars = '';\n      for (var i = 0; i < bytes.length; i += 2) {\n        var code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n        chars += code >= 32 && code < 127 && code !== 60 && code !== 62 &&\n          code !== 38 && false ? String.fromCharCode(code) :\n          '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n      }\n      return '>' + chars;\n    });\n  }\n\n  function Metadata(meta) {\n    if (typeof meta === 'string') {\n      // Ghostscript produces invalid metadata\n      meta = fixMetadata(meta);\n\n      var parser = new DOMParser();\n      meta = parser.parseFromString(meta, 'application/xml');\n    } else if (!(meta instanceof Document)) {\n      error('Metadata: Invalid metadata object');\n    }\n\n    this.metaDocument = meta;\n    this.metadata = {};\n    this.parse();\n  }\n\n  Metadata.prototype = {\n    parse: function Metadata_parse() {\n      var doc = this.metaDocument;\n      var rdf = doc.documentElement;\n\n      if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') { // Wrapped in <xmpmeta>\n        rdf = rdf.firstChild;\n        while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n          rdf = rdf.nextSibling;\n        }\n      }\n\n      var nodeName = (rdf) ? rdf.nodeName.toLowerCase() : null;\n      if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n        return;\n      }\n\n      var children = rdf.childNodes, desc, entry, name, i, ii, length, iLength;\n      for (i = 0, length = children.length; i < length; i++) {\n        desc = children[i];\n        if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n          continue;\n        }\n\n        for (ii = 0, iLength = desc.childNodes.length; ii < iLength; ii++) {\n          if (desc.childNodes[ii].nodeName.toLowerCase() !== '#text') {\n            entry = desc.childNodes[ii];\n            name = entry.nodeName.toLowerCase();\n            this.metadata[name] = entry.textContent.trim();\n          }\n        }\n      }\n    },\n\n    get: function Metadata_get(name) {\n      return this.metadata[name] || null;\n    },\n\n    has: function Metadata_has(name) {\n      return typeof this.metadata[name] !== 'undefined';\n    }\n  };\n\n  return Metadata;\n})();\n\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nfunction createScratchCanvas(width, height) {\n  var canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based on.\n  if (!ctx.mozCurrentTransform) {\n    // Store the original context\n    ctx._scaleX = ctx._scaleX || 1.0;\n    ctx._scaleY = ctx._scaleY || 1.0;\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = [ctx._scaleX, 0, 0, ctx._scaleY, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, 'mozCurrentTransform', {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      }\n    });\n\n    Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc\n        ];\n      }\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5]\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * (-sinValue) + m[2] * cosValue,\n        m[1] * (-sinValue) + m[3] * cosValue,\n        m[4],\n        m[5]\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  var cache = {};\n  return {\n    getCanvas: function CachedCanvases_getCanvas(id, width, height,\n                                                 trackTransform) {\n      var canvasEntry;\n      if (cache[id] !== undefined) {\n        canvasEntry = cache[id];\n        canvasEntry.canvas.width = width;\n        canvasEntry.canvas.height = height;\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        var canvas = createScratchCanvas(width, height);\n        var ctx = canvas.getContext('2d');\n        if (trackTransform) {\n          addContextCurrentTransform(ctx);\n        }\n        cache[id] = canvasEntry = {canvas: canvas, context: ctx};\n      }\n      return canvasEntry;\n    },\n    clear: function () {\n      for (var id in cache) {\n        var canvasEntry = cache[id];\n        // Zeroing the width and height causes Firefox to release graphics\n        // resources immediately, which can greatly reduce memory consumption.\n        canvasEntry.canvas.width = 0;\n        canvasEntry.canvas.height = 0;\n        delete cache[id];\n      }\n    }\n  };\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width, height = imgData.height;\n  var i, j, j0, width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7, data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height), pos = 0, ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128, elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = (elem & mask) ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding iteresting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) +\n            (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p], p0 = p, pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else { // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2 | type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n      --count;\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function(c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (var i = 0, ii = outlines.length; i < ii; i++) {\n      var o = outlines[i];\n      c.moveTo(o[0], o[1]);\n      for (var j = 2, jj = o.length; j < jj; j += 2) {\n        c.lineTo(o[j], o[j+1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  function CanvasExtraState(old) {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = '#000000';\n    this.strokeColor = '#000000';\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null; // nonclonable field (see the save method below)\n\n    this.old = old;\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  };\n  return CanvasExtraState;\n})();\n\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  function CanvasGraphics(canvasCtx, commonObjs, objs, imageLayer) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    if (canvasCtx) {\n      addContextCurrentTransform(canvasCtx);\n    }\n    this.cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData) {\n    if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0, destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = PDFJS.hasCanvasTypedArrays ? new Uint32Array(dest.buffer) :\n        new Uint32ArrayView(dest);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xFFFFFFFF;\n      var black = (PDFJS.isLittleEndian || !PDFJS.hasCanvasTypedArrays) ?\n        0xFF000000 : 0x000000FF;\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          var k = 0;\n          var kEnd = (srcDiff > fullSrcDiff) ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = (srcByte & 128) ? white : black;\n            dest32[destPos++] = (srcByte & 64) ? white : black;\n            dest32[destPos++] = (srcByte & 32) ? white : black;\n            dest32[destPos++] = (srcByte & 16) ? white : black;\n            dest32[destPos++] = (srcByte & 8) ? white : black;\n            dest32[destPos++] = (srcByte & 4) ? white : black;\n            dest32[destPos++] = (srcByte & 2) ? white : black;\n            dest32[destPos++] = (srcByte & 1) ? white : black;\n          }\n          for (; k < kEnd; k++) {\n             if (mask === 0) {\n               srcByte = src[srcPos++];\n               mask = 128;\n             }\n\n            dest32[destPos++] = (srcByte & mask) ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--;) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      error('bad image kind: ' + imgData.kind);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = (elem & mask) ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha',\n                      'lineWidth', 'lineCap', 'lineJoin', 'miterLimit',\n                      'globalCompositeOperation', 'font'];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset =  sourceCtx.lineDashOffset;\n    } else if (sourceCtx.mozDashOffset !== undefined) {\n      destCtx.mozDash = sourceCtx.mozDash;\n      destCtx.mozDashOffset = sourceCtx.mozDashOffset;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y = (maskData[i - 3] * 77) +  // * 0.3 / 255 * 0x10000\n              (maskData[i - 2] * 152) + // * 0.59 ....\n              (maskData[i - 1] * 28);   // * 0.11 ....\n      layerData[i] = (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(maskCtx, layerCtx, width, height,\n                               subtype, backdrop) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === 'Luminosity') {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY,\n                     smask.offsetX, smask.offsetY);\n\n    var backdrop = smask.backdrop || null;\n    if (WebGLUtils.isEnabled) {\n      var composed = WebGLUtils.composeSMask(layerCtx.canvas, mask,\n        {subtype: smask.subtype, backdrop: backdrop});\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height,\n                        smask.subtype, backdrop);\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n\n    beginDrawing: function CanvasGraphics_beginDrawing(viewport, transparency) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, so we fill with white if\n      // we can.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n      if (transparency) {\n        this.ctx.clearRect(0, 0, width, height);\n      } else {\n        this.ctx.mozOpaque = true;\n        this.ctx.save();\n        this.ctx.fillStyle = 'rgb(255, 255, 255)';\n        this.ctx.fillRect(0, 0, width, height);\n        this.ctx.restore();\n      }\n\n      var transform = viewport.transform;\n\n      this.ctx.save();\n      this.ctx.transform.apply(this.ctx, transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n                                    operatorList,\n                                    executionStartIdx, continueCallback,\n                                    stepper) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations = (argsArrayLen - i > EXECUTION_STEPS &&\n                             typeof continueCallback === 'function');\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var depObjId = deps[n];\n            var common = depObjId[0] === 'g' && depObjId[1] === '_';\n            var objsPool = common ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.isResolved(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      this.ctx.restore();\n      CachedCanvases.clear();\n      WebGLUtils.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      } else {\n        ctx.mozDash = dashArray;\n        ctx.mozDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {\n      // Maybe if we one day fully support color spaces this will be important\n      // for now we can ignore.\n      // TODO set rendering intent?\n    },\n    setFlatness: function CanvasGraphics_setFlatness(flatness) {\n      // There's no way to control this with canvas, but we can safely ignore.\n      // TODO set flatness?\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'RI':\n            this.setRenderingIntent(value);\n            break;\n          case 'FL':\n            this.setFlatness(value);\n            break;\n          case 'Font':\n            this.setFont(value[0], value[1]);\n            break;\n          case 'CA':\n            this.current.strokeAlpha = state[1];\n            break;\n          case 'ca':\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case 'BM':\n            if (value && value.name && (value.name !== 'Normal')) {\n              var mode = value.name.replace(/([A-Z])/g,\n                function(c) {\n                  return '-' + c.toLowerCase();\n                }\n              ).substring(1);\n              this.ctx.globalCompositeOperation = mode;\n              if (this.ctx.globalCompositeOperation !== mode) {\n                warn('globalCompositeOperation \"' + mode +\n                     '\" is not supported');\n              }\n            } else {\n              this.ctx.globalCompositeOperation = 'source-over';\n            }\n            break;\n          case 'SMask':\n            if (this.current.activeSMask) {\n              this.endSMaskGroup();\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = 'smaskGroupAt' + this.groupLevel;\n      var scratchCanvas = CachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'Normal'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n      this.ctx.restore();\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.activeSMask = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      if (this.stateStack.length !== 0) {\n        if (this.current.activeSMask !== null) {\n          this.endSMaskGroup();\n        }\n\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        this.cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this.cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x, y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            this.ctx.moveTo(x, y);\n            this.ctx.lineTo(xw, y);\n            this.ctx.lineTo(xw, yh);\n            this.ctx.lineTo(x, yh);\n            this.ctx.lineTo(x, y);\n            this.ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3],\n                              x, y);\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(x, y, args[j], args[j + 1],\n                              args[j + 2], args[j + 3]);\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // Prevent drawing too thin lines by enforcing a minimum line width.\n      ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n                               this.current.lineWidth);\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (strokeColor && strokeColor.hasOwnProperty('type') &&\n          strokeColor.type === 'Pattern') {\n        // for patterns, we transform to pattern space, calculate\n        // the pattern, call stroke, and restore to user space\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        ctx.stroke();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.pendingEOFill) {\n        if (ctx.mozFillRule !== undefined) {\n          ctx.mozFillRule = 'evenodd';\n          ctx.fill();\n          ctx.mozFillRule = 'nonzero';\n        } else {\n          try {\n            ctx.fill('evenodd');\n          } catch (ex) {\n            // shouldn't really happen, but browsers might think differently\n            ctx.fill();\n          }\n        }\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        error('Can\\'t find font for ' + fontRefName);\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 ||\n          current.fontMatrix[3] === 0) {\n        warn('Invalid font matrix for font ' + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || 'sans-serif';\n      var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n                                 (fontObj.bold ? 'bold' : 'normal');\n\n      var italic = fontObj.italic ? 'italic' : 'normal';\n      var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE :\n                            size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n      this.current.fontSizeScale = size / browserFontSize;\n\n      var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n      this.ctx.font = rule;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar: function CanvasGraphics_paintChar(character, x, y) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode = textRenderingMode &\n        TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(textRenderingMode &\n        TextRenderingMode.ADD_TO_PATH_FLAG);\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fill();\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fillText(character, x, y);\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x: x,\n          y: y,\n          fontSize: fontSize,\n          addToPath: addToPath\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      var ctx = document.createElement('canvas').getContext('2d');\n      ctx.scale(1.5, 1);\n      ctx.fillText('I', 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, 'isFontSubpixelAAEnabled', enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode = current.textRenderingMode &\n          TextRenderingMode.FILL_STROKE_MASK;\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          this.cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0 && this.isFontSubpixelAAEnabled) {\n          // some standard fonts may not have the exact width, trying to\n          // rescale per character\n          var measuredWidth = ctx.measureText(character).width * 1000 /\n            fontSize * fontSizeScale;\n          var characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        }\n\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY);\n          if (accent) {\n            scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n            scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n          }\n        }\n\n        var charWidth = width * widthAdvanceScale + charSpacing * fontDirection;\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          this.ctx.translate(wordSpacing, 0);\n          current.x += wordSpacing * textHScale;\n          continue;\n        } else if (isNum(glyph)) {\n          var spacingLength = -glyph * 0.001 * fontSize;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn('Type3 character \\\"' + glyph.operatorListId +\n               '\\\" is not available');\n          continue;\n        }\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + charSpacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth,\n                                                                        yWidth,\n                                                                        llx,\n                                                                        lly,\n                                                                        urx,\n                                                                        ury) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === 'TilingPattern') {\n        var color = IR[1];\n        pattern = new TilingPattern(IR, color, this.ctx, this.objs,\n                                    this.commonObjs, this.baseTransform);\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN(/*...*/) {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN(/*...*/) {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      error('Should not call beginInlineImage');\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      error('Should not call beginImageData');\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix,\n                                                                        bbox) {\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (isArray(matrix) && 6 === matrix.length) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (isArray(bbox) && 4 === bbox.length) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implmenting:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info('TODO: Support non-isolated groups.');\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn('Knockout groups not supported.');\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      assert(group.bbox, 'Bounding box is required.');\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n                    group.bbox,\n                    currentCtx.mozCurrentTransform);\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [0,\n                          0,\n                          currentCtx.canvas.width,\n                          currentCtx.canvas.height];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1, scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = 'groupAt' + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId +=  '_smask_' + ((this.smaskCounter++) % 2);\n      }\n      var scratchCanvas = CachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX: offsetX,\n          offsetY: offsetY,\n          scaleX: scaleX,\n          scaleY: scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'Normal'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      this.current = new CanvasExtraState();\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform,\n                                                             matrix) {\n      this.save();\n\n      if (isArray(rect) && 4 === rect.length) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n      var domImage = this.objs.get(objId);\n      if (!domImage) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.save();\n\n      var ctx = this.ctx;\n      // scale the image to the unit square\n      ctx.scale(1 / w, -1 / h);\n\n      ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height,\n                    0, -h, w, h);\n      if (this.imageLayer) {\n        var currentTransform = ctx.mozCurrentTransformInverse;\n        var position = this.getCanvasPosition(0, 0);\n        this.imageLayer.appendImage({\n          objId: objId,\n          left: position[0],\n          top: position[1],\n          width: w / currentTransform[0],\n          height: h / currentTransform[3]\n        });\n      }\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      var ctx = this.ctx;\n      var width = img.width, height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled =\n            compileType3Glyph({data: img.data, width: width, height: height});\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = CachedCanvases.getCanvas('maskCanvas', width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat:\n      function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX,\n                                                          scaleY, positions) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = CachedCanvases.getCanvas('maskCanvas', width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n          0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup:\n      function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width, height = image.height;\n\n        var maskCanvas = CachedCanvases.getCanvas('maskCanvas', width, height);\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = 'source-in';\n\n        maskCtx.fillStyle = isPatternFill ?\n                            fillColor.getPattern(maskCtx, this) : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n                      0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat:\n      function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY,\n                                                          positions) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({transform: [scaleX, 0, 0, scaleY, positions[i],\n                 positions[i + 1]], x: 0, y: 0, w: width, h: height});\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject:\n      function CanvasGraphics_paintInlineImageXObject(imgData) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0], b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2], d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // instanceof HTMLElement does not work in jsdom node.js module\n      if (imgData instanceof HTMLElement || !imgData.data) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = CachedCanvases.getCanvas('inlineImage', width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width, paintHeight = height;\n      var tmpCanvasId = 'prescale1';\n      // Vertial or horizontal scaling shall not be more than 2 to not loose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size\n      while ((widthScale > 2 && paintWidth > 1) ||\n             (heightScale > 2 && paintHeight > 1)) {\n        var newWidth = paintWidth, newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = CachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                     0, 0, newWidth, newHeight);\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n      }\n      ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                0, -height, width, height);\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData: imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3]\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup:\n      function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = CachedCanvases.getCanvas('inlineImage', w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h,\n                      0, -1, 1, 1);\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData: imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask:\n      function CanvasGraphics_paintSolidColorImageMask() {\n        this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      // TODO Marked content.\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n                                        tag, properties) {\n      // TODO Marked content.\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      // TODO Marked content.\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          if (ctx.mozFillRule !== undefined) {\n            ctx.mozFillRule = 'evenodd';\n            ctx.clip();\n            ctx.mozFillRule = 'nonzero';\n          } else {\n            try {\n              ctx.clip('evenodd');\n            } catch (ex) {\n              // shouldn't really happen, but browsers might think differently\n              ctx.clip();\n            }\n          }\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n      if (this.cachedGetSinglePixelWidth === null) {\n        var inverse = this.ctx.mozCurrentTransformInverse;\n        // max of the current horizontal and vertical scale\n        this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(\n          (inverse[0] * inverse[0] + inverse[1] * inverse[1]),\n          (inverse[2] * inverse[2] + inverse[3] * inverse[3])));\n      }\n      return this.cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n        var transform = this.ctx.mozCurrentTransform;\n        return [\n          transform[0] * x + transform[2] * y + transform[4],\n          transform[1] * x + transform[3] * y + transform[5]\n        ];\n    }\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\n\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error('Error during shader compilation: ' + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error('Error during program linking: ' + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n    currentCanvas = document.createElement('canvas');\n    currentGL = currentCanvas.getContext('webgl',\n      { premultipliedalpha: false });\n  }\n\n  var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n\n  var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n    cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n\n    var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n    var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n    var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0,  0.0,\n      1.0,  0.0,\n      0.0,  1.0,\n      0.0,  1.0,\n      1.0,  0.0,\n      1.0,  1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width, height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache,canvas = cache.canvas, gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(cache.resolutionLocation, properties.backdrop[0],\n                   properties.backdrop[1], properties.backdrop[2], 1);\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(cache.subtypeLocation,\n                 properties.subtype === 'Luminosity' ? 1 : 0);\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n\n  var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n    cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache, canvas = cache.canvas, gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case 'lattice':\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case 'triangles':\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords, colorsMap = context.colors;\n    var pIndex = 0, cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i], ps = figure.coords, cs = figure.colors;\n      switch (figure.type) {\n        case 'lattice':\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case 'triangles':\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[i]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255,\n                    backgroundColor[2] / 255, 1.0);\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false,\n                           0, 0);\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  function cleanup() {\n    if (smaskCache && smaskCache.canvas) {\n      smaskCache.canvas.width = 0;\n      smaskCache.canvas.height = 0;\n    }\n    if (figuresCache && figuresCache.canvas) {\n      figuresCache.canvas.width = 0;\n      figuresCache.canvas.height = 0;\n    }\n    smaskCache = null;\n    figuresCache = null;\n  }\n\n  return {\n    get isEnabled() {\n      if (PDFJS.disableWebGL) {\n        return false;\n      }\n      var enabled = false;\n      try {\n        generateGL();\n        enabled = !!currentGL;\n      } catch (e) { }\n      return shadow(this, 'isEnabled', enabled);\n    },\n    composeSMask: composeSMask,\n    drawFigures: drawFigures,\n    clear: cleanup\n  };\n})();\n\n\nvar ShadingIRs = {};\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var colorStops = raw[2];\n    var p0 = raw[3];\n    var p1 = raw[4];\n    var r0 = raw[5];\n    var r1 = raw[6];\n    return {\n      type: 'Pattern',\n      getPattern: function RadialAxial_getPattern(ctx) {\n        var grad;\n        if (type === 'axial') {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === 'radial') {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      }\n    };\n  }\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords, colors = context.colors;\n    var bytes = data.data, rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2; p2 = p3; p3 = tmp; tmp = c2; c2 = c3; c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1], c1g = colors[c1 + 1], c1b = colors[c1 + 2];\n    var c2r = colors[c2], c2g = colors[c2 + 1], c2b = colors[c2 + 2];\n    var c3r = colors[c3], c3g = colors[c3 + 1], c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1), maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    var k;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n      k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        k = k < 0 ? 0 : k > 1 ? 1 : k;\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case 'lattice':\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(data, context,\n              ps[q], ps[q + 1], ps[q + verticesPerRow],\n              cs[q], cs[q + 1], cs[q + verticesPerRow]);\n            drawTriangle(data, context,\n              ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n          }\n        }\n        break;\n      case 'triangles':\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(data, context,\n            ps[i], ps[i + 1], ps[i + 2],\n            cs[i], cs[i + 1], cs[i + 2]);\n        }\n        break;\n      default:\n        error('illigal figure');\n        break;\n    }\n  }\n\n  function createMeshCanvas(bounds, combinesScale, coords, colors, figures,\n                            backgroundColor) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords: coords,\n      colors: colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n\n    var canvas, tmpCanvas, i, ii;\n    if (WebGLUtils.isEnabled) {\n      canvas = WebGLUtils.drawFigures(width, height, backgroundColor,\n                                      figures, context);\n\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = CachedCanvases.getCanvas('mesh', width, height, false);\n      tmpCanvas.context.drawImage(canvas, 0, 0);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = CachedCanvases.getCanvas('mesh', width, height, false);\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, 0, 0);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {canvas: canvas, offsetX: offsetX, offsetY: offsetY,\n            scaleX: scaleX, scaleY: scaleY};\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    //var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    //var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: 'Pattern',\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0],\n                     scale[1] * matrixScale[1]];\n          }\n        }\n\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords,\n          colors, figures, shadingFill ? null : background);\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(temporaryPatternCanvas.offsetX,\n                      temporaryPatternCanvas.offsetY);\n        ctx.scale(temporaryPatternCanvas.scaleX,\n                  temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n      }\n    };\n  }\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: 'Pattern',\n      getPattern: function Dummy_fromIR_getPattern() {\n        return 'hotpink';\n      }\n    };\n  }\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    error('Unknown IR type: ' + raw[0]);\n  }\n  return shadingIR.fromIR(raw);\n}\n\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  function TilingPattern(IR, color, ctx, objs, commonObjs, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.baseTransform = baseTransform;\n    this.type = 'Pattern';\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var objs = this.objs;\n      var commonObjs = this.commonObjs;\n\n      info('TilingType: ' + tilingType);\n\n      var x0 = bbox[0], y0 = bbox[1], x1 = bbox[2], y1 = bbox[3];\n\n      var topLeft = [x0, y0];\n      // we want the canvas to be as large as the step size\n      var botRight = [x0 + xstep, y0 + ystep];\n\n      var width = botRight[0] - topLeft[0];\n      var height = botRight[1] - topLeft[1];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform);\n      var combinedScale = [matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1]];\n\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])),\n        MAX_PATTERN_SIZE);\n\n      height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])),\n        MAX_PATTERN_SIZE);\n\n      var tmpCanvas = CachedCanvases.getCanvas('pattern', width, height, true);\n      var tmpCtx = tmpCanvas.context;\n      var graphics = new CanvasGraphics(tmpCtx, commonObjs, objs);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(tmpCtx, paintType, color);\n\n      this.setScale(width, height, xstep, ystep);\n      this.transformToScale(graphics);\n\n      // transform coordinates to pattern space\n      var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n      graphics.transform.apply(graphics, tmpTranslate);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n      return tmpCanvas.canvas;\n    },\n\n    setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n      this.scale = [width / xstep, height / ystep];\n    },\n\n    transformToScale: function TilingPattern_transformToScale(graphics) {\n      var scale = this.scale;\n      var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n      graphics.transform.apply(graphics, tmpScale);\n    },\n\n    scaleToContext: function TilingPattern_scaleToContext() {\n      var scale = this.scale;\n      this.ctx.scale(1 / scale[0], 1 / scale[1]);\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (bbox && isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext:\n      function setFillAndStrokeStyleToContext(context, paintType, color) {\n        switch (paintType) {\n          case PaintType.COLORED:\n            var ctx = this.ctx;\n            context.fillStyle = ctx.fillStyle;\n            context.strokeStyle = ctx.strokeStyle;\n            break;\n          case PaintType.UNCOLORED:\n            var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n            context.fillStyle = cssColor;\n            context.strokeStyle = cssColor;\n            break;\n          default:\n            error('Unsupported paint type: ' + paintType);\n        }\n      },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      ctx = this.ctx;\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n      this.scaleToContext();\n\n      return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n    }\n  };\n\n  return TilingPattern;\n})();\n\n\nPDFJS.disableFontFace = false;\n\nvar FontLoader = {\n  insertRule: function fontLoaderInsertRule(rule) {\n    var styleElement = document.getElementById('PDFJS_FONT_STYLE_TAG');\n    if (!styleElement) {\n      styleElement = document.createElement('style');\n      styleElement.id = 'PDFJS_FONT_STYLE_TAG';\n      document.documentElement.getElementsByTagName('head')[0].appendChild(\n        styleElement);\n    }\n\n    var styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  },\n\n  clear: function fontLoaderClear() {\n    var styleElement = document.getElementById('PDFJS_FONT_STYLE_TAG');\n    if (styleElement) {\n      styleElement.parentNode.removeChild(styleElement);\n    }\n    this.nativeFontFaces.forEach(function(nativeFontFace) {\n      document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n  },\n  get loadTestFont() {\n    // This is a CFF font with 1 glyph for '.' that fills its entire width and\n    // height.\n    return shadow(this, 'loadTestFont', atob(\n      'T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' +\n      'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' +\n      'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' +\n      'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' +\n      'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' +\n      'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' +\n      'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' +\n      'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' +\n      'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' +\n      'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' +\n      'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' +\n      'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' +\n      'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' +\n      'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' +\n      'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' +\n      'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' +\n      'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' +\n      'ABAAAAAAAAAAAD6AAAAAAAAA=='\n    ));\n  },\n\n  loadTestFontId: 0,\n\n  loadingContext: {\n    requests: [],\n    nextRequestId: 0\n  },\n\n  isSyncFontLoadingSupported: (function detectSyncFontLoadingSupport() {\n    if (isWorker) {\n      return false;\n    }\n\n    // User agent string sniffing is bad, but there is no reliable way to tell\n    // if font is fully loaded and ready to be used with canvas.\n    var userAgent = window.navigator.userAgent;\n    var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(userAgent);\n    if (m && m[1] >= 14) {\n      return true;\n    }\n    // TODO other browsers\n    if (userAgent === 'node') {\n      return true;\n    }\n    return false;\n  })(),\n\n  nativeFontFaces: [],\n\n  isFontLoadingAPISupported: !isWorker && !!document.fonts,\n\n  addNativeFontFace: function fontLoader_addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    document.fonts.add(nativeFontFace);\n  },\n\n  bind: function fontLoaderBind(fonts, callback) {\n    assert(!isWorker, 'bind() shall be called from main thread');\n\n    var rules = [];\n    var fontsToLoad = [];\n    var fontLoadPromises = [];\n    for (var i = 0, ii = fonts.length; i < ii; i++) {\n      var font = fonts[i];\n\n      // Add the font to the DOM only once or skip if the font\n      // is already loaded.\n      if (font.attached || font.loading === false) {\n        continue;\n      }\n      font.attached = true;\n\n      if (this.isFontLoadingAPISupported) {\n        var nativeFontFace = font.createNativeFontFace();\n        if (nativeFontFace) {\n          fontLoadPromises.push(nativeFontFace.loaded);\n        }\n      } else {\n        var rule = font.bindDOM();\n        if (rule) {\n          rules.push(rule);\n          fontsToLoad.push(font);\n        }\n      }\n    }\n\n    var request = FontLoader.queueLoadingCallback(callback);\n    if (this.isFontLoadingAPISupported) {\n      Promise.all(fontsToLoad).then(function() {\n        request.complete();\n      });\n    } else if (rules.length > 0 && !this.isSyncFontLoadingSupported) {\n      FontLoader.prepareFontLoadEvent(rules, fontsToLoad, request);\n    } else {\n      request.complete();\n    }\n  },\n\n  queueLoadingCallback: function FontLoader_queueLoadingCallback(callback) {\n    function LoadLoader_completeRequest() {\n      assert(!request.end, 'completeRequest() cannot be called twice');\n      request.end = Date.now();\n\n      // sending all completed requests in order how they were queued\n      while (context.requests.length > 0 && context.requests[0].end) {\n        var otherRequest = context.requests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    var context = FontLoader.loadingContext;\n    var requestId = 'pdfjs-font-loading-' + (context.nextRequestId++);\n    var request = {\n      id: requestId,\n      complete: LoadLoader_completeRequest,\n      callback: callback,\n      started: Date.now()\n    };\n    context.requests.push(request);\n    return request;\n  },\n\n  prepareFontLoadEvent: function fontLoaderPrepareFontLoadEvent(rules,\n                                                                fonts,\n                                                                request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is\n      // ready. It's assumed fonts are loaded in order, so add a known test\n      // font after the desired fonts and then test for the loading of that\n      // test font.\n\n      function int32(data, offset) {\n        return (data.charCodeAt(offset) << 24) |\n               (data.charCodeAt(offset + 1) << 16) |\n               (data.charCodeAt(offset + 2) << 8) |\n               (data.charCodeAt(offset + 3) & 0xff);\n      }\n\n      function spliceString(s, offset, remove, insert) {\n        var chunk1 = s.substr(0, offset);\n        var chunk2 = s.substr(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n\n      var i, ii;\n\n      var canvas = document.createElement('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n\n      var called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if(called > 30) {\n          warn('Load test font never loaded.');\n          callback();\n          return;\n        }\n        ctx.font = '30px ' + name;\n        ctx.fillText('.', 0, 20);\n        var imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      var data = this.loadTestFont;\n      var COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length,\n                          loadTestFontId);\n      // CFF checksum is important for IE, adjusting it\n      var CFF_CHECKSUM_OFFSET = 16;\n      var XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) { // align to 4 bytes boundary\n        checksum = (checksum - XXXX_VALUE +\n                    int32(loadTestFontId + 'XXX', i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n      var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' +\n                 url + '}';\n      FontLoader.insertRule(rule);\n\n      var names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      var div = document.createElement('div');\n      div.setAttribute('style',\n                       'visibility: hidden;' +\n                       'width: 10px; height: 10px;' +\n                       'position: absolute; top: 0px; left: 0px;');\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        var span = document.createElement('span');\n        span.textContent = 'Hi';\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, function() {\n        document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n  }\n};\n\nvar FontFaceObject = (function FontFaceObjectClosure() {\n  function FontFaceObject(name, file, properties) {\n    this.compiledGlyphs = {};\n    if (arguments.length === 1) {\n      // importing translated data\n      var data = arguments[0];\n      for (var i in data) {\n        this[i] = data[i];\n      }\n      return;\n    }\n  }\n  FontFaceObject.prototype = {\n    createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n      if (!this.data) {\n        return null;\n      }\n\n      if (PDFJS.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n      FontLoader.addNativeFontFace(nativeFontFace);\n\n      if (PDFJS.pdfBug && 'FontInspector' in globalScope &&\n          globalScope['FontInspector'].enabled) {\n        globalScope['FontInspector'].fontAdded(this);\n      }\n      return nativeFontFace;\n    },\n\n    bindDOM: function FontFaceObject_bindDOM() {\n      if (!this.data) {\n        return null;\n      }\n\n      if (PDFJS.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var data = bytesToString(new Uint8Array(this.data));\n      var fontName = this.loadedName;\n\n      // Add the font-face rule to the document\n      var url = ('url(data:' + this.mimetype + ';base64,' +\n                 window.btoa(data) + ');');\n      var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n      FontLoader.insertRule(rule);\n\n      if (PDFJS.pdfBug && 'FontInspector' in globalScope &&\n          globalScope['FontInspector'].enabled) {\n        globalScope['FontInspector'].fontAdded(this, url);\n      }\n\n      return rule;\n    },\n\n    getPathGenerator: function FontLoader_getPathGenerator(objs, character) {\n      if (!(character in this.compiledGlyphs)) {\n        var js = objs.get(this.loadedName + '_path_' + character);\n        /*jshint -W054 */\n        this.compiledGlyphs[character] = new Function('c', 'size', js);\n      }\n      return this.compiledGlyphs[character];\n    }\n  };\n  return FontFaceObject;\n})();\n\n\nvar ANNOT_MIN_SIZE = 10; // px\n\nvar AnnotationUtils = (function AnnotationUtilsClosure() {\n  // TODO(mack): This dupes some of the logic in CanvasGraphics.setFont()\n  function setTextStyles(element, item, fontObj) {\n\n    var style = element.style;\n    style.fontSize = item.fontSize + 'px';\n    style.direction = item.fontDirection < 0 ? 'rtl': 'ltr';\n\n    if (!fontObj) {\n      return;\n    }\n\n    style.fontWeight = fontObj.black ?\n      (fontObj.bold ? 'bolder' : 'bold') :\n      (fontObj.bold ? 'bold' : 'normal');\n    style.fontStyle = fontObj.italic ? 'italic' : 'normal';\n\n    var fontName = fontObj.loadedName;\n    var fontFamily = fontName ? '\"' + fontName + '\", ' : '';\n    // Use a reasonable default font if the font doesn't specify a fallback\n    var fallbackName = fontObj.fallbackName || 'Helvetica, sans-serif';\n    style.fontFamily = fontFamily + fallbackName;\n  }\n\n  function initContainer(item, drawBorder) {\n    var container = document.createElement('section');\n    var cstyle = container.style;\n    var width = item.rect[2] - item.rect[0];\n    var height = item.rect[3] - item.rect[1];\n\n    var bWidth = item.borderWidth || 0;\n    if (bWidth) {\n      width = width - 2 * bWidth;\n      height = height - 2 * bWidth;\n      cstyle.borderWidth = bWidth + 'px';\n      var color = item.color;\n      if (drawBorder && color) {\n        cstyle.borderStyle = 'solid';\n        cstyle.borderColor = Util.makeCssRgb(Math.round(color[0] * 255),\n                                             Math.round(color[1] * 255),\n                                             Math.round(color[2] * 255));\n      }\n    }\n    cstyle.width = width + 'px';\n    cstyle.height = height + 'px';\n    return container;\n  }\n\n  function getHtmlElementForTextWidgetAnnotation(item, commonObjs) {\n    var element = document.createElement('div');\n    var width = item.rect[2] - item.rect[0];\n    var height = item.rect[3] - item.rect[1];\n    element.style.width = width + 'px';\n    element.style.height = height + 'px';\n    element.style.display = 'table';\n\n    var content = document.createElement('div');\n    content.textContent = item.fieldValue;\n    var textAlignment = item.textAlignment;\n    content.style.textAlign = ['left', 'center', 'right'][textAlignment];\n    content.style.verticalAlign = 'middle';\n    content.style.display = 'table-cell';\n\n    var fontObj = item.fontRefName ?\n      commonObjs.getData(item.fontRefName) : null;\n    setTextStyles(content, item, fontObj);\n\n    element.appendChild(content);\n\n    return element;\n  }\n\n  function getHtmlElementForTextAnnotation(item) {\n    var rect = item.rect;\n\n    // sanity check because of OOo-generated PDFs\n    if ((rect[3] - rect[1]) < ANNOT_MIN_SIZE) {\n      rect[3] = rect[1] + ANNOT_MIN_SIZE;\n    }\n    if ((rect[2] - rect[0]) < ANNOT_MIN_SIZE) {\n      rect[2] = rect[0] + (rect[3] - rect[1]); // make it square\n    }\n\n    var container = initContainer(item, false);\n    container.className = 'annotText';\n\n    var image  = document.createElement('img');\n    image.style.height = container.style.height;\n    image.style.width = container.style.width;\n    var iconName = item.name;\n    image.src = PDFJS.imageResourcesPath + 'annotation-' +\n      iconName.toLowerCase() + '.svg';\n    image.alt = '[{{type}} Annotation]';\n    image.dataset.l10nId = 'text_annotation_type';\n    image.dataset.l10nArgs = JSON.stringify({type: iconName});\n\n    var contentWrapper = document.createElement('div');\n    contentWrapper.className = 'annotTextContentWrapper';\n    contentWrapper.style.left = Math.floor(rect[2] - rect[0] + 5) + 'px';\n    contentWrapper.style.top = '-10px';\n\n    var content = document.createElement('div');\n    content.className = 'annotTextContent';\n    content.setAttribute('hidden', true);\n\n    var i, ii;\n    if (item.hasBgColor) {\n      var color = item.color;\n\n      // Enlighten the color (70%)\n      var BACKGROUND_ENLIGHT = 0.7;\n      var r = BACKGROUND_ENLIGHT * (1.0 - color[0]) + color[0];\n      var g = BACKGROUND_ENLIGHT * (1.0 - color[1]) + color[1];\n      var b = BACKGROUND_ENLIGHT * (1.0 - color[2]) + color[2];\n      content.style.backgroundColor = Util.makeCssRgb((r * 255) | 0,\n                                                      (g * 255) | 0,\n                                                      (b * 255) | 0);\n    }\n\n    var title = document.createElement('h1');\n    var text = document.createElement('p');\n    title.textContent = item.title;\n\n    if (!item.content && !item.title) {\n      content.setAttribute('hidden', true);\n    } else {\n      var e = document.createElement('span');\n      var lines = item.content.split(/(?:\\r\\n?|\\n)/);\n      for (i = 0, ii = lines.length; i < ii; ++i) {\n        var line = lines[i];\n        e.appendChild(document.createTextNode(line));\n        if (i < (ii - 1)) {\n          e.appendChild(document.createElement('br'));\n        }\n      }\n      text.appendChild(e);\n\n      var pinned = false;\n\n      var showAnnotation = function showAnnotation(pin) {\n        if (pin) {\n          pinned = true;\n        }\n        if (content.hasAttribute('hidden')) {\n          container.style.zIndex += 1;\n          content.removeAttribute('hidden');\n        }\n      };\n\n      var hideAnnotation = function hideAnnotation(unpin) {\n        if (unpin) {\n          pinned = false;\n        }\n        if (!content.hasAttribute('hidden') && !pinned) {\n          container.style.zIndex -= 1;\n          content.setAttribute('hidden', true);\n        }\n      };\n\n      var toggleAnnotation = function toggleAnnotation() {\n        if (pinned) {\n          hideAnnotation(true);\n        } else {\n          showAnnotation(true);\n        }\n      };\n\n      image.addEventListener('click', function image_clickHandler() {\n        toggleAnnotation();\n      }, false);\n      image.addEventListener('mouseover', function image_mouseOverHandler() {\n        showAnnotation();\n      }, false);\n      image.addEventListener('mouseout', function image_mouseOutHandler() {\n        hideAnnotation();\n      }, false);\n\n      content.addEventListener('click', function content_clickHandler() {\n        hideAnnotation(true);\n      }, false);\n    }\n\n    content.appendChild(title);\n    content.appendChild(text);\n    contentWrapper.appendChild(content);\n    container.appendChild(image);\n    container.appendChild(contentWrapper);\n\n    return container;\n  }\n\n  function getHtmlElementForLinkAnnotation(item) {\n    var container = initContainer(item, true);\n    container.className = 'annotLink';\n\n    var link = document.createElement('a');\n    link.href = link.title = item.url || '';\n\n    container.appendChild(link);\n\n    return container;\n  }\n\n  function getHtmlElement(data, objs) {\n    switch (data.annotationType) {\n      case AnnotationType.WIDGET:\n        return getHtmlElementForTextWidgetAnnotation(data, objs);\n      case AnnotationType.TEXT:\n        return getHtmlElementForTextAnnotation(data);\n      case AnnotationType.LINK:\n        return getHtmlElementForLinkAnnotation(data);\n      default:\n        throw new Error('Unsupported annotationType: ' + data.annotationType);\n    }\n  }\n\n  return {\n    getHtmlElement: getHtmlElement\n  };\n})();\nPDFJS.AnnotationUtils = AnnotationUtils;\n\n\nvar SVG_DEFAULTS = {\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  fillColor: '#000000'\n};\n\nvar convertImgDataToPng = (function convertImgDataToPngClosure() {\n  var PNG_HEADER =\n    new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n  var CHUNK_WRAPPER_SIZE = 12;\n\n  var crcTable = new Int32Array(256);\n  for (var i = 0; i < 256; i++) {\n    var c = i;\n    for (var h = 0; h < 8; h++) {\n      if (c & 1) {\n        c = 0xedB88320 ^ ((c >> 1) & 0x7fffffff);\n      } else {\n        c = (c >> 1) & 0x7fffffff;\n      }\n    }\n    crcTable[i] = c;\n  }\n\n  function crc32(data, start, end) {\n    var crc = -1;\n    for (var i = start; i < end; i++) {\n      var a = (crc ^ data[i]) & 0xff;\n      var b = crcTable[a];\n      crc = (crc >>> 8) ^ b;\n    }\n    return crc ^ -1;\n  }\n\n  function writePngChunk(type, body, data, offset) {\n    var p = offset;\n    var len = body.length;\n\n    data[p] = len >> 24 & 0xff;\n    data[p + 1] = len >> 16 & 0xff;\n    data[p + 2] = len >> 8 & 0xff;\n    data[p + 3] = len & 0xff;\n    p += 4;\n\n    data[p] = type.charCodeAt(0) & 0xff;\n    data[p + 1] = type.charCodeAt(1) & 0xff;\n    data[p + 2] = type.charCodeAt(2) & 0xff;\n    data[p + 3] = type.charCodeAt(3) & 0xff;\n    p += 4;\n\n    data.set(body, p);\n    p += body.length;\n\n    var crc = crc32(data, offset + 4, p);\n\n    data[p] = crc >> 24 & 0xff;\n    data[p + 1] = crc >> 16 & 0xff;\n    data[p + 2] = crc >> 8 & 0xff;\n    data[p + 3] = crc & 0xff;\n  }\n\n  function adler32(data, start, end) {\n    var a = 1;\n    var b = 0;\n    for (var i = start; i < end; ++i) {\n      a = (a + (data[i] & 0xff)) % 65521;\n      b = (b + a) % 65521;\n    }\n    return (b << 16) | a;\n  }\n\n  function encode(imgData, kind) {\n    var width = imgData.width;\n    var height = imgData.height;\n    var bitDepth, colorType, lineSize;\n    var bytes = imgData.data;\n\n    switch (kind) {\n      case ImageKind.GRAYSCALE_1BPP:\n        colorType = 0;\n        bitDepth = 1;\n        lineSize = (width + 7) >> 3;\n        break;\n      case ImageKind.RGB_24BPP:\n        colorType = 2;\n        bitDepth = 8;\n        lineSize = width * 3;\n        break;\n      case ImageKind.RGBA_32BPP:\n        colorType = 6;\n        bitDepth = 8;\n        lineSize = width * 4;\n        break;\n      default:\n        throw new Error('invalid format');\n    }\n\n    // prefix every row with predictor 0\n    var literals = new Uint8Array((1 + lineSize) * height);\n    var offsetLiterals = 0, offsetBytes = 0;\n    var y, i;\n    for (y = 0; y < height; ++y) {\n      literals[offsetLiterals++] = 0; // no prediction\n      literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize),\n                   offsetLiterals);\n      offsetBytes += lineSize;\n      offsetLiterals += lineSize;\n    }\n\n    if (kind === ImageKind.GRAYSCALE_1BPP) {\n      // inverting for B/W\n      offsetLiterals = 0;\n      for (y = 0; y < height; y++) {\n        offsetLiterals++; // skipping predictor\n        for (i = 0; i < lineSize; i++) {\n          literals[offsetLiterals++] ^= 0xFF;\n        }\n      }\n    }\n\n    var ihdr = new Uint8Array([\n      width >> 24 & 0xff,\n      width >> 16 & 0xff,\n      width >> 8 & 0xff,\n      width & 0xff,\n      height >> 24 & 0xff,\n      height >> 16 & 0xff,\n      height >> 8 & 0xff,\n      height & 0xff,\n      bitDepth, // bit depth\n      colorType, // color type\n      0x00, // compression method\n      0x00, // filter method\n      0x00 // interlace method\n    ]);\n\n    var len = literals.length;\n    var maxBlockLength = 0xFFFF;\n\n    var deflateBlocks = Math.ceil(len / maxBlockLength);\n    var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n    var pi = 0;\n    idat[pi++] = 0x78; // compression method and flags\n    idat[pi++] = 0x9c; // flags\n\n    var pos = 0;\n    while (len > maxBlockLength) {\n      // writing non-final DEFLATE blocks type 0 and length of 65535\n      idat[pi++] = 0x00;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0x00;\n      idat[pi++] = 0x00;\n      idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n      pi += maxBlockLength;\n      pos += maxBlockLength;\n      len -= maxBlockLength;\n    }\n\n    // writing non-final DEFLATE blocks type 0\n    idat[pi++] = 0x01;\n    idat[pi++] = len & 0xff;\n    idat[pi++] = len >> 8 & 0xff;\n    idat[pi++] = (~len & 0xffff) & 0xff;\n    idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n    idat.set(literals.subarray(pos), pi);\n    pi += literals.length - pos;\n\n    var adler = adler32(literals, 0, literals.length); // checksum\n    idat[pi++] = adler >> 24 & 0xff;\n    idat[pi++] = adler >> 16 & 0xff;\n    idat[pi++] = adler >> 8 & 0xff;\n    idat[pi++] = adler & 0xff;\n\n    // PNG will consists: header, IHDR+data, IDAT+data, and IEND.\n    var pngLength = PNG_HEADER.length + (CHUNK_WRAPPER_SIZE * 3) +\n                    ihdr.length + idat.length;\n    var data = new Uint8Array(pngLength);\n    var offset = 0;\n    data.set(PNG_HEADER, offset);\n    offset += PNG_HEADER.length;\n    writePngChunk('IHDR', ihdr, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n    writePngChunk('IDATA', idat, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + idat.length;\n    writePngChunk('IEND', new Uint8Array(0), data, offset);\n\n    return PDFJS.createObjectURL(data, 'image/png');\n  }\n\n  return function convertImgDataToPng(imgData) {\n    var kind = (imgData.kind === undefined ?\n                ImageKind.GRAYSCALE_1BPP : imgData.kind);\n    return encode(imgData, kind);\n  };\n})();\n\nvar SVGExtraState = (function SVGExtraStateClosure() {\n  function SVGExtraState() {\n    this.fontSizeScale = 1;\n    this.fontWeight = SVG_DEFAULTS.fontWeight;\n    this.fontSize = 0;\n\n    this.textMatrix = IDENTITY_MATRIX;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRise = 0;\n\n    // Default foreground and background colors\n    this.fillColor = SVG_DEFAULTS.fillColor;\n    this.strokeColor = '#000000';\n\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.lineJoin = '';\n    this.lineCap = '';\n    this.miterLimit = 0;\n    \n    this.dashArray = [];\n    this.dashPhase = 0;\n\n    this.dependencies = [];\n\n    // Clipping\n    this.clipId = '';\n    this.pendingClip = false;\n\n    this.maskId = '';\n  }\n\n  SVGExtraState.prototype = {\n    clone: function SVGExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  };\n  return SVGExtraState;\n})();\n\nvar SVGGraphics = (function SVGGraphicsClosure() {\n  function createScratchSVG(width, height) {\n    var NS = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(NS, 'svg:svg');\n    svg.setAttributeNS(null, 'version', '1.1');\n    svg.setAttributeNS(null, 'width', width + 'px');\n    svg.setAttributeNS(null, 'height', height + 'px');\n    svg.setAttributeNS(null, 'viewBox', '0 0 ' + width + ' ' + height);\n    return svg;\n  }\n\n  function opListToTree(opList) {\n    var opTree = [];\n    var tmp = [];\n    var opListLen = opList.length;\n\n    for (var x = 0; x < opListLen; x++) {\n      if (opList[x].fn === 'save') {\n        opTree.push({'fnId': 92, 'fn': 'group', 'items': []});\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if(opList[x].fn === 'restore') {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opList[x]);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Formats float number.\n   * @param value {number} number to format.\n   * @returns {string}\n   */\n  function pf(value) {\n    if (value === (value | 0)) { // integer number\n      return value.toString();\n    }\n    var s = value.toFixed(10);\n    var i = s.length - 1;\n    if (s[i] !== '0') {\n      return s;\n    }\n    // removing trailing zeros\n    do {\n      i--;\n    } while (s[i] === '0');\n    return s.substr(0, s[i] === '.' ? i : i + 1);\n  }\n\n  /**\n   * Formats transform matrix. The standard rotation, scale and translate\n   * matrices are replaced by their shorter forms, and for identity matrix\n   * returns empty string to save the memory.\n   * @param m {Array} matrix to format.\n   * @returns {string}\n   */\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return '';\n        }\n        return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        var a = Math.acos(m[0]) * 180 / Math.PI;\n        return 'rotate(' + pf(a) + ')';\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n      }\n    }\n    return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' +\n      pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n  }\n\n  function SVGGraphics(commonObjs, objs) {\n    this.current = new SVGExtraState();\n    this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n    this.transformStack = [];\n    this.extraStack = [];\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.pendingEOFill = false;\n\n    this.embedFonts = false;\n    this.embeddedFonts = {};\n    this.cssStyle = null;\n  }\n\n  var NS = 'http://www.w3.org/2000/svg';\n  var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n  var XLINK_NS = 'http://www.w3.org/1999/xlink';\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var clipCount = 0;\n  var maskCount = 0;\n\n  SVGGraphics.prototype = {\n    save: function SVGGraphics_save() {\n      this.transformStack.push(this.transformMatrix);\n      var old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    },\n\n    restore: function SVGGraphics_restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n      this.pgrp.appendChild(this.tgrp);\n    },\n\n    group: function SVGGraphics_group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    },\n\n    loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen = fnArray.length;\n      var argsArray = operatorList.argsArray;\n\n      var self = this;\n      for (var i = 0; i < fnArrayLen; i++) {\n        if (OPS.dependency === fnArray[i]) {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var obj = deps[n];\n            var common = obj.substring(0, 2) === 'g_';\n            var promise;\n            if (common) {\n              promise = new Promise(function(resolve) {\n                self.commonObjs.get(obj, resolve);\n              });\n            } else {\n              promise = new Promise(function(resolve) {\n                self.objs.get(obj, resolve);\n              });\n            }\n            this.current.dependencies.push(promise);\n          }\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    },\n\n    transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n      var transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = PDFJS.Util.transform(this.transformMatrix,\n                                                  transformMatrix);\n\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n    },\n\n    getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n      this.svg = createScratchSVG(viewport.width, viewport.height);\n      this.viewport = viewport;\n\n      return this.loadDependencies(operatorList).then(function () {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.pgrp = document.createElementNS(NS, 'svg:g'); // Parent group\n        this.pgrp.setAttributeNS(null, 'transform', pm(viewport.transform));\n        this.tgrp = document.createElementNS(NS, 'svg:g'); // Transform group\n        this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n        this.defs = document.createElementNS(NS, 'svg:defs');\n        this.pgrp.appendChild(this.defs);\n        this.pgrp.appendChild(this.tgrp);\n        this.svg.appendChild(this.pgrp);\n        var opTree = this.convertOpList(operatorList);\n        this.executeOpTree(opTree);\n        return this.svg;\n      }.bind(this));\n    },\n\n    convertOpList: function SVGGraphics_convertOpList(operatorList) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen  = fnArray.length;\n      var REVOPS = [];\n      var opList = [];\n\n      for (var op in OPS) {\n        REVOPS[OPS[op]] = op;\n      }\n\n      for (var x = 0; x < fnArrayLen; x++) {\n        var fnId = fnArray[x];\n        opList.push({'fnId' : fnId, 'fn': REVOPS[fnId], 'args': argsArray[x]});\n      }\n      return opListToTree(opList);\n    },\n    \n    executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n      var opTreeLen = opTree.length;\n      for(var x = 0; x < opTreeLen; x++) {\n        var fn = opTree[x].fn;\n        var fnId = opTree[x].fnId;\n        var args = opTree[x].args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(args[0], args[1], args[2],\n                               args[3], args[4], args[5]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip('nonzero');\n            break;\n          case OPS.eoClip:\n            this.clip('evenodd');\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintJpegXObject:\n            this.paintJpegXObject(args[0], args[1], args[2]);\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(args[0], args[1], args[2], args[3],\n                           args[4], args[5]);\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTree[x].items);\n            break;\n          default:\n            warn('Unimplemented method '+ fn);\n            break;\n        }\n      }\n    },\n\n    setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    },\n\n    setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    },\n\n    nextLine: function SVGGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n      var current = this.current;\n      this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n\n      current.xcoords = [];\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n\n      current.txtElement = document.createElementNS(NS, 'svg:text');\n      current.txtElement.appendChild(current.tspan);\n    },\n\n    beginText: function SVGGraphics_beginText() {\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.lineMatrix = IDENTITY_MATRIX;\n      this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n      this.current.txtElement = document.createElementNS(NS, 'svg:text');\n      this.current.txtgrp = document.createElementNS(NS, 'svg:g');\n      this.current.xcoords = [];\n    },\n\n    moveText: function SVGGraphics_moveText(x, y) {\n      var current = this.current;\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n\n      current.xcoords = [];\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n    },\n\n    showText: function SVGGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return;\n      }\n\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n        current.xcoords.push(current.x + x * textHScale);\n\n        var width = glyph.width;\n        var character = glyph.fontChar;\n        var charWidth = width * widthAdvanceScale + charSpacing * fontDirection;\n        x += charWidth;\n\n        current.tspan.textContent += character;\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, 'x',\n                                   current.xcoords.map(pf).join(' '));\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n      }\n      if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n        current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n      }\n\n      current.txtElement.setAttributeNS(null, 'transform',\n                                        pm(current.textMatrix) +\n                                        ' scale(1, -1)' );\n      current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this.tgrp.appendChild(current.txtElement);\n\n    },\n\n    setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n\n    addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n      if (!this.cssStyle) {\n        this.cssStyle = document.createElementNS(NS, 'svg:style');\n        this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      var url = PDFJS.createObjectURL(fontObj.data, fontObj.mimetype);\n      this.cssStyle.textContent +=\n        '@font-face { font-family: \"' + fontObj.loadedName + '\";' +\n        ' src: url(' + url + '); }\\n';\n    },\n\n    setFont: function SVGGraphics_setFont(details) {\n      var current = this.current;\n      var fontObj = this.commonObjs.get(details[0]);\n      var size = details[1];\n      this.current.font = fontObj;\n\n      if (this.embedFonts && fontObj.data &&\n          !this.embeddedFonts[fontObj.loadedName]) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n                                 (fontObj.bold ? 'bold' : 'normal');\n      var italic = fontObj.italic ? 'italic' : 'normal';\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.xcoords = [];\n    },\n\n    endText: function SVGGraphics_endText() {\n      if (this.current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n    },\n\n    // Path properties\n    setLineWidth: function SVGGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n    },\n    setLineCap: function SVGGraphics_setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function SVGGraphics_setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    },\n    setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.fillColor = color;\n      this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n      this.current.xcoords = [];\n    },\n    setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    },\n\n    constructPath: function SVGGraphics_constructPath(ops, args) {\n      var current = this.current;\n      var x = current.x, y = current.y;\n      current.path = document.createElementNS(NS, 'svg:path');\n      var d = [];\n      var opLength = ops.length;\n\n      for (var i = 0, j = 0; i < opLength; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            var xw = x + width;\n            var yh = y + height;\n            d.push('M', pf(x), pf(y), 'L', pf(xw) , pf(y), 'L', pf(xw), pf(yh),\n                   'L', pf(x), pf(yh), 'Z');\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('M', pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('L', pf(x) , pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]),\n                   pf(args[j + 3]), pf(x), pf(y));\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]),\n                   pf(args[j + 2]), pf(args[j + 3]));\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y),\n                   pf(x), pf(y));\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push('Z');\n            break;\n        }\n      }\n      current.path.setAttributeNS(null, 'd', d.join(' '));\n      current.path.setAttributeNS(null, 'stroke-miterlimit',\n                                  pf(current.miterLimit));\n      current.path.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n      current.path.setAttributeNS(null, 'stroke-linejoin', current.lineJoin);\n      current.path.setAttributeNS(null, 'stroke-width',\n                                  pf(current.lineWidth) + 'px');\n      current.path.setAttributeNS(null, 'stroke-dasharray',\n                                  current.dashArray.map(pf).join(' '));\n      current.path.setAttributeNS(null, 'stroke-dashoffset',\n                                  pf(current.dashPhase) + 'px');\n      current.path.setAttributeNS(null, 'fill', 'none');\n\n      this.tgrp.appendChild(current.path);\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    },\n\n    endPath: function SVGGraphics_endPath() {\n      var current = this.current;\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n    },\n\n    clip: function SVGGraphics_clip(type) {\n      var current = this.current;\n      // Add current path to clipping path\n      current.clipId = 'clippath' + clipCount;\n      clipCount++;\n      this.clippath = document.createElementNS(NS, 'svg:clipPath');\n      this.clippath.setAttributeNS(null, 'id', current.clipId);\n      var clipElement = current.element.cloneNode();\n      if (type === 'evenodd') {\n        clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n      } else {\n        clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n      }\n      this.clippath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n      this.clippath.appendChild(clipElement);\n      this.defs.appendChild(this.clippath);\n\n      // Create a new group with that attribute\n      current.pendingClip = true;\n      this.cgrp = document.createElementNS(NS, 'svg:g');\n      this.cgrp.setAttributeNS(null, 'clip-path',\n                               'url(#' + current.clipId + ')');\n      this.pgrp.appendChild(this.cgrp);\n    },\n\n    closePath: function SVGGraphics_closePath() {\n      var current = this.current;\n      var d = current.path.getAttributeNS(null, 'd');\n      d += 'Z';\n      current.path.setAttributeNS(null, 'd', d);\n    },\n\n    setLeading: function SVGGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n\n    setTextRise: function SVGGraphics_setTextRise(textRise) {\n      this.current.textRise = textRise;\n    },\n\n    setHScale: function SVGGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n\n    setGState: function SVGGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'RI':\n            break;\n          case 'FL':\n            break;\n          case 'Font':\n            this.setFont(value);\n            break;\n          case 'CA':\n            break;\n          case 'ca':\n            break;\n          case 'BM':\n            break;\n          case 'SMask':\n            break;\n        }\n      }\n    },\n\n    fill: function SVGGraphics_fill() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'fill', current.fillColor);\n    },\n\n    stroke: function SVGGraphics_stroke() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n      current.element.setAttributeNS(null, 'fill', 'none');\n    },\n\n    eoFill: function SVGGraphics_eoFill() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'fill', current.fillColor);\n      current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n    },\n\n    fillStroke: function SVGGraphics_fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    },\n\n    eoFillStroke: function SVGGraphics_eoFillStroke() {\n      this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n      this.fillStroke();\n    },\n\n    closeStroke: function SVGGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n\n    closeFillStroke: function SVGGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n\n    paintSolidColorImageMask:\n        function SVGGraphics_paintSolidColorImageMask() {\n      var current = this.current;\n      var rect = document.createElementNS(NS, 'svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', '1px');\n      rect.setAttributeNS(null, 'height', '1px');\n      rect.setAttributeNS(null, 'fill', current.fillColor);\n      this.tgrp.appendChild(rect);\n    },\n\n    paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n      var current = this.current;\n      var imgObj = this.objs.get(objId);\n      var imgEl = document.createElementNS(NS, 'svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n      imgEl.setAttributeNS(null, 'width', imgObj.width + 'px');\n      imgEl.setAttributeNS(null, 'height', imgObj.height + 'px');\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-h));\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n\n      this.tgrp.appendChild(imgEl);\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n    },\n\n    paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintInlineImageXObject:\n        function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n      var current = this.current;\n      var width = imgData.width;\n      var height = imgData.height;\n\n      var imgSrc = convertImgDataToPng(imgData);\n      var cliprect = document.createElementNS(NS, 'svg:rect');\n      cliprect.setAttributeNS(null, 'x', '0');\n      cliprect.setAttributeNS(null, 'y', '0');\n      cliprect.setAttributeNS(null, 'width', pf(width));\n      cliprect.setAttributeNS(null, 'height', pf(height));\n      current.element = cliprect;\n      this.clip('nonzero');\n      var imgEl = document.createElementNS(NS, 'svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-height));\n      imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n      imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / width) + ' ' +\n                           pf(-1 / height) + ')');\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this.tgrp.appendChild(imgEl);\n      }\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n    },\n\n    paintImageMaskXObject:\n        function SVGGraphics_paintImageMaskXObject(imgData) {\n      var current = this.current;\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = current.fillColor;\n\n      current.maskId = 'mask' + maskCount++;\n      var mask = document.createElementNS(NS, 'svg:mask');\n      mask.setAttributeNS(null, 'id', current.maskId);\n\n      var rect = document.createElementNS(NS, 'svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', pf(width));\n      rect.setAttributeNS(null, 'height', pf(height));\n      rect.setAttributeNS(null, 'fill', fillColor);\n      rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId +')');\n      this.defs.appendChild(mask);\n      this.tgrp.appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    },\n\n    paintFormXObjectBegin:\n        function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n      this.save();\n\n      if (isArray(matrix) && matrix.length === 6) {\n        this.transform(matrix[0], matrix[1], matrix[2],\n                       matrix[3], matrix[4], matrix[5]);\n      }\n\n      if (isArray(bbox) && bbox.length === 4) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n\n        var cliprect = document.createElementNS(NS, 'svg:rect');\n        cliprect.setAttributeNS(null, 'x', bbox[0]);\n        cliprect.setAttributeNS(null, 'y', bbox[1]);\n        cliprect.setAttributeNS(null, 'width', pf(width));\n        cliprect.setAttributeNS(null, 'height', pf(height));\n        this.current.element = cliprect;\n        this.clip('nonzero');\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd:\n        function SVGGraphics_paintFormXObjectEnd() {\n      this.restore();\n    }\n  };\n  return SVGGraphics;\n})();\n\nPDFJS.SVGGraphics = SVGGraphics;\n\n\n}).call((typeof window === 'undefined') ? this : window);\n\nif (!PDFJS.workerSrc && typeof document !== 'undefined') {\n  // workerSrc is not set -- using last script url to define default location\n  PDFJS.workerSrc = (function () {\n    'use strict';\n    var scriptTagContainer = document.body ||\n                             document.getElementsByTagName('head')[0];\n    var pdfjsSrc = scriptTagContainer.lastChild.src;\n    return pdfjsSrc && pdfjsSrc.replace(/\\.js$/i, '.worker.js');\n  })();\n}\n\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}